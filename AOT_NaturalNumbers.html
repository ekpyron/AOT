<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory AOT_NaturalNumbers</title>
</head>


<body>
<div class="head">
<h1>Theory AOT_NaturalNumbers</h1>
</div>

<pre class="source"><span class="comment1">(*&lt;*)</span>
<span class="keyword1"><span class="command">theory</span></span> AOT_NaturalNumbers
  <span class="keyword2"><span class="keyword">imports</span></span> <a href="AOT_PLM.html">AOT_PLM</a> <a href="AOT_PossibleWorlds.html">AOT_PossibleWorlds</a>
  <span class="keyword2"><span class="keyword">abbrevs</span></span> one-to-one <span class="main">=</span> <span class="quoted">‹<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>›</span>
      <span class="keyword2"><span class="keyword">and</span></span> onto <span class="main">=</span> <span class="quoted">‹<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>›</span>
<span class="keyword2"><span class="keyword">begin</span></span>
<span class="comment1">(*&gt;*)</span>

<span class="keyword1"><span class="command">section</span></span><span class="quoted"><span class="plain_text">‹Natural Numbers›</span></span>
 
<span class="keyword1"><span class="command">AOT_define</span></span> CorrelatesOneToOne <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹_ <span class="keyword1"><span class="keyword1">|:</span></span> _ <span class="keyword1"><span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷</span></span> _›</span><span class="main">)</span>
  <span class="quoted">"1-1-cor"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷</span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">F</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span> <span class="main">&amp;</span>
                                   <span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span>
                                   <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> MapsTo <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹_ <span class="keyword1"><span class="keyword1">|:</span></span> _ <span class="keyword1"><span class="keyword1">⟶</span></span> _›</span><span class="main">)</span>
  <span class="quoted">"fFG:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main">⟶</span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">F</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> MapsToOneToOne <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹_ <span class="keyword1"><span class="keyword1">|:</span></span> _ <span class="keyword1"><span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶</span></span> _›</span><span class="main">)</span>
  <span class="quoted">"fFG:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶</span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main">⟶</span> <span class="free">G</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span> <span class="main">→</span> <span class="bound">x</span> <span class="main">=</span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> MapsOnto <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹_ <span class="keyword1"><span class="keyword1">|:</span></span> _ <span class="keyword1"><span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub></span></span> _›</span><span class="main">)</span>
  <span class="quoted">"fFG:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub></span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main">⟶</span> <span class="free">G</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> MapsOneToOneOnto <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹_ <span class="keyword1"><span class="keyword1">|:</span></span> _ <span class="keyword1"><span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub></span></span> _›</span><span class="main">)</span>
  <span class="quoted">"fFG:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub></span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶</span> <span class="free">G</span> <span class="main">&amp;</span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub></span> <span class="free">G</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-1-1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷</span> <span class="free">G</span> <span class="main">≡</span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub></span> <span class="free">G</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷</span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">[</span><span class="operator">OF</span> <span class="quoted">"1-1-cor"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> C<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main">⟶</span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"fFG:1"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">F</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main">[</span><span class="operator">axiom_inst</span><span class="main">]</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> A<span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"fFG:4"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶</span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"fFG:2"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main">⟶</span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> C<span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span> <span class="main">→</span> <span class="bound">x</span> <span class="main">=</span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span> <span class="skolem">z</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">z</span>›</span></span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span>›</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">z</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> B <span class="quoted">"&amp;E"</span> <span class="quoted">"∀E"</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="main">=</span> <span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"uni-most"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> 3<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main"><span class="main">=</span></span></span></span><span class="quoted"><span class="skolem">x</span></span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span>
                            <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main"><span class="main">=</span></span></span></span><span class="quoted"><span class="skolem">y</span></span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
             <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"&amp;E"</span> 1 2<span class="main">)</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub></span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"fFG:3"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main">⟶</span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> C<span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> B<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">β</span> <span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">β</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">β</span><span class="skolem">y</span><span class="main">)</span> <span class="main">→</span> <span class="bound">β</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶</span> <span class="free">G</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">[</span><span class="operator">OF</span> <span class="quoted">"fFG:4"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> C<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main">⟶</span> <span class="free">G</span>›</span></span>
    <span class="keyword2"><span class="keyword">and</span></span> D<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span> <span class="main">→</span> <span class="bound">x</span> <span class="main">=</span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword2"><span class="keyword">and</span></span> E<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">[</span><span class="operator">OF</span> <span class="quoted">"fFG:2"</span><span class="main">]</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">[</span><span class="operator">OF</span> <span class="quoted">"fFG:3"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷</span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"1-1-cor"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">[</span><span class="operator">OF</span> <span class="quoted">"fFG:1"</span><span class="main">,</span> <span class="operator">OF</span> C<span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"GEN"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> E <span class="quoted">"∀E"</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">a</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">z</span><span class="skolem">y</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">z</span><span class="skolem">y</span>›</span></span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> D<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">z</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">a</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span>
                  <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">y</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span>
                a_prop 0 <span class="quoted">"&amp;E"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">z</span><span class="skolem">y</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"∃I"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">AOT_register_rigid_restricted_type</span></span>
  Ordinary<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="free">κ</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"B◇"</span> <span class="quoted">"T◇"</span> <span class="quoted">"o-objects-exist:1"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">κ</span> <span class="main">→</span> <span class="skolem">κ</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">κ</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"russell-axiom[exe,1].ψ_denotes_asm"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="keyword1">O!</span><span class="skolem">α</span> <span class="main">→</span> <span class="main">□</span><span class="keyword1">O!</span><span class="skolem">α</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">α</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> RN <span class="quoted">"oa-facts:1"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_register_variable_names</span></span>
  Ordinary<span class="main">:</span> u v r t s

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"equi:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="free">φ</span><span class="main">{</span><span class="bound">u</span><span class="main">}</span> <span class="main">≡</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">u</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">v</span><span class="main">}</span> <span class="main">→</span> <span class="bound">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="free">φ</span><span class="main">{</span><span class="bound">u</span><span class="main">}</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span><span class="main">)</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">β</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">β</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="bound">β</span><span class="main">}</span> <span class="main">→</span> <span class="bound">β</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> x_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">β</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">β</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="bound">β</span><span class="main">}</span> <span class="main">→</span> <span class="bound">β</span> <span class="main">=</span> <span class="skolem">x</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">β</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> beta_ord<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">β</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">φ</span><span class="main">{</span><span class="skolem">β</span><span class="main">}</span>›</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">β</span> <span class="main">=</span> <span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> x_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">β</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">β</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">x</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"ord-=E=:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> beta_ord<span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"qml:2"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="keyword1">O!</span><span class="skolem">β</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="skolem">β</span><span class="main">}</span> <span class="main">→</span> <span class="skolem">β</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">x</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">β</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">β</span><span class="main">(</span><span class="keyword1">O!</span><span class="bound">β</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">β</span><span class="main">}</span> <span class="main">→</span> <span class="bound">β</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">y</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">y</span><span class="main">}</span> <span class="main">→</span> <span class="bound">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> x_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">y</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">y</span><span class="main">}</span> <span class="main">→</span> <span class="bound">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">u</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">v</span><span class="main">}</span> <span class="main">→</span> <span class="bound">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">u</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">v</span><span class="main">}</span> <span class="main">→</span> <span class="bound">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">y</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">y</span><span class="main">}</span> <span class="main">→</span> <span class="bound">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> x_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">y</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">y</span><span class="main">}</span> <span class="main">→</span> <span class="bound">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="bound">y</span><span class="main">}</span> <span class="main">→</span> <span class="bound">y</span> <span class="main">=</span> <span class="skolem">x</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="skolem">y</span><span class="main">}</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> x_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">y</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→E"</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span> <span class="main">=</span> <span class="skolem">x</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"ord-=E=:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> x_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"qml:2"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="skolem">x</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="bound">y</span><span class="main">}</span> <span class="main">→</span> <span class="bound">y</span> <span class="main">=</span> <span class="skolem">x</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> x_prop <span class="quoted">"&amp;E"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="bound">y</span><span class="main">}</span> <span class="main">→</span> <span class="bound">y</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="free">φ</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"uniqueness:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="free">φ</span><span class="main">{</span><span class="bound">u</span><span class="main">}</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> CorrelatesEOneToOne <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹_ <span class="keyword1"><span class="keyword1">|:</span></span> _ <span class="keyword1"><span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span></span> _›</span><span class="main">)</span>
  <span class="quoted">"equi:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">F</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span> <span class="main">&amp;</span>
                               <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span>
                               <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> EquinumerousE <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">"<span class="keyword1"><span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span></span>"</span> 50<span class="main">)</span>
  <span class="quoted">"equi:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">∃</span><span class="bound">R</span> <span class="main">(</span><span class="bound">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Note: not explicitly in PLM.›</span></span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> eq_den_1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">Π</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="free">Π</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π'</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="main">(</span><span class="bound">R</span> <span class="main">|:</span> <span class="free">Π</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π'</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> that <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">Π</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">Π</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Note: not explicitly in PLM.›</span></span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> eq_den_2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">Π'</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="free">Π</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π'</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="main">(</span><span class="bound">R</span> <span class="main">|:</span> <span class="free">Π</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π'</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> that <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">Π</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">Π'</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-part:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"equi:3"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"equi:2"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">x</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">dest</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span>  <span class="quoted">"&amp;I"</span> <span class="quoted">"→I"</span> 1 2 Ordinary.GEN <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> 1<span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">v</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> that <span class="quoted">"ord-=Eequiv:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">y</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="bound">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">dest</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">y</span></span><span class="main"><span class="main">]</span></span>
            <span class="quoted">"&amp;I"</span> <span class="quoted">"→I"</span> 1 2 GEN <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> 1<span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span><span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"=E[denotes]"</span><span class="main">)</span>


<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-part:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">→</span> <span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">F</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span>
                            <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">x</span><span class="main">]</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">F</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">x</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span>
                            <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">x</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="bound">κ'</span> <span class="main">.</span> <span class="main">«</span><span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">x</span><span class="main">]</span><span class="bound">κ</span><span class="bound">κ'</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="bound">κ'</span> <span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">κ'</span><span class="bound">κ</span><span class="main">»</span>›</span></span><span class="main"><span class="keyword3">;</span></span>
         <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span><span class="main"><span class="keyword3">?</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="skolem"><span class="skolem">x</span></span>
        <span class="keyword1"><span class="command">by</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span> <span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span> that<span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="skolem"><span class="skolem">x</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> φ<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="main">λ</span><span class="main">(</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">)</span><span class="main">.</span> <span class="main">_</span> <span class="main">(</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">)</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword">and</span></span></span> κ<span class="hidden">⇩</span><sub>1</sub>κ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">OF</span> that<span class="main">,</span> <span class="operator">simplified</span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">x</span><span class="main">]</span><span class="skolem">α</span><span class="skolem">β</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">β</span><span class="skolem">α</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">α</span></span> <span class="skolem"><span class="skolem">β</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"≡I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">x</span><span class="main">]</span> <span class="main">|:</span> <span class="free">G</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="free">G</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Note: not explicitly in PLM.›</span></span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-part:2[terms]"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">Π</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π'</span> <span class="main">→</span> <span class="free">Π'</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π</span>›</span></span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-part:2"</span><span class="main">[</span><span class="operator">unvarify</span> F G<span class="main">]</span> eq_den_1 eq_den_2 <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
<span class="keyword1"><span class="command">declare</span></span> <span class="quoted">"eq-part:2[terms]"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">sym</span><span class="main">]</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-part:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">&amp;</span> <span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span><span class="main">)</span> <span class="main">→</span> <span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">&amp;</span> <span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="skolem"><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span></span> <span class="keyword2"><span class="keyword">where</span></span>
       <span class="quoted"><span class="quoted">‹<span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
   <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">|:</span> <span class="free">G</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword2"><span class="keyword">and</span></span> ξ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span><span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
          <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
          <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">=</span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1">O!</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">x</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">v</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"free-thms:3[lambda]"</span><span class="main">)</span> <span class="operator">cqt_2_lambda_inst_prover</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R</span></span> <span class="keyword2"><span class="keyword">where</span></span> R_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">=</span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1">O!</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">x</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">v</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> b<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span> <span class="main">→</span> <span class="bound">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> θ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> a b<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">]</span></span><span class="main">]</span>
            <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> c_prop<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">c</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="skolem">c</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="skolem">b</span><span class="skolem">c</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="skolem">b</span><span class="bound">v</span> <span class="main">→</span> <span class="bound">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> ξ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">b</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span>
          <span class="operator">OF</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">]</span></span><span class="main">]</span>
    <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">c</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">c</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> c_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="skolem">c</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> c_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">c</span> <span class="main">&amp;</span> <span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">v</span><span class="skolem">c</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> a c_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">b</span></span><span class="main"><span class="main">]</span></span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                     b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> c_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">c</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span> 0<span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> ordx<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span>›</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">x</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> hx<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1">O!</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">x</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">v</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> R_def<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">v</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> φ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">λ</span><span class="main">(</span><span class="bound">κ</span><span class="main">,</span><span class="bound">κ'</span><span class="main">)</span><span class="main">.</span> <span class="main">_</span> <span class="bound">κ</span> <span class="bound">κ'</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword">and</span></span></span></span> κ<span class="hidden">⇩</span><sub>1</sub>κ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="skolem">z</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> b_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">z</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="main">=</span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="skolem">b</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> z_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> c_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">x</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> ordx<span class="main">]</span>
              hx <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">v</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> b<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="skolem">v</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">v</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="skolem">b</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> ξ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> a b<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">]</span></span><span class="main">]</span>
            <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> c_prop<span class="main">:</span> <span class="quoted"><span class="quoted">"<span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">c</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">c</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">c</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">v</span><span class="skolem">b</span> <span class="main">→</span> <span class="bound">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">)</span><span class="main">)</span>"</span></span>
      <span class="keyword1"><span class="command">using</span></span> θ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">b</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span>
          <span class="operator">OF</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">]</span></span><span class="main">]</span>
    <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">v'</span><span class="skolem">v</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">c</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">c</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> c_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">c</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> c_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">c</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">c</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> a c_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">b</span></span><span class="main"><span class="main">]</span></span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                     b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                     b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                     c_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">c</span><span class="skolem">v</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span> 0<span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> ordx<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span>›</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">v</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> hx<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1">O!</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">x</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">v</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">v</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> R_def<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="keyword1">O!</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">x</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> φ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">λ</span><span class="main">(</span><span class="bound">κ</span><span class="main">,</span><span class="bound">κ'</span><span class="main">)</span><span class="main">.</span> <span class="main">_</span> <span class="bound">κ</span> <span class="bound">κ'</span>"</span></span> <span class="keyword2"><span class="keyword"><span class="quasi_keyword"><span class="quasi_keyword">and</span></span></span></span> κ<span class="hidden">⇩</span><sub>1</sub>κ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>2</sub></span><span class="main">]</span><span class="skolem">z</span><span class="skolem">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> b_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">z</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"→E"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="main">=</span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">x</span><span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> z_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> c_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">x</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> ordx<span class="main">]</span>
              hx <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">R</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> 1 2 <span class="quoted">"equi:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.GEN <span class="quoted">"→I"</span> Ordinary.ψ<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Note: not explicitly in PLM.›</span></span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-part:3[terms]"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">Π</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π''</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="free">Π</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π'</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="free">Π'</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π''</span>›</span></span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-part:3"</span><span class="main">[</span><span class="operator">unvarify</span> F G H<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> eq_den_1 eq_den_2 <span class="quoted">"→I"</span> <span class="quoted">"&amp;I"</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> that<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> that<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">declare</span></span> <span class="quoted">"eq-part:3[terms]"</span><span class="main">[</span><span class="operator">trans</span><span class="main">]</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-part:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">H</span> <span class="main">(</span><span class="bound">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span> <span class="main">≡</span> <span class="bound">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-part:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">H</span> <span class="main">(</span><span class="bound">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span> <span class="main">≡</span> <span class="bound">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"≡I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">H</span></span> <span class="keyword1"><span class="command">using</span></span> 0
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"eq-part:3"</span> that <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">H</span></span> <span class="keyword1"><span class="command">using</span></span> 1
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"eq-part:3"</span> that <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">H</span> <span class="main">(</span><span class="bound">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span> <span class="main">≡</span> <span class="bound">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span> <span class="main">≡</span> <span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-part:1"</span> <span class="quoted">"≡E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> MapsE <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1"><span class="keyword1">|:</span></span> _ <span class="keyword1"><span class="keyword1">⟶E</span></span> _"</span><span class="main">)</span>
  <span class="quoted">"equi-rem:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶E</span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">F</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> MapsEOneToOne <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1"><span class="keyword1">|:</span></span> _ <span class="keyword1"><span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶E</span></span> _"</span><span class="main">)</span>
  <span class="quoted">"equi-rem:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶E</span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶E</span> <span class="free">G</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">t</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> MapsEOnto <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1"><span class="keyword1">|:</span></span> _ <span class="keyword1"><span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span></span> _"</span><span class="main">)</span>
  <span class="quoted">"equi-rem:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶E</span> <span class="free">G</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> MapsEOneToOneOnto <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">"_ <span class="keyword1"><span class="keyword1">|:</span></span> _ <span class="keyword1"><span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span></span> _"</span><span class="main">)</span>
  <span class="quoted">"equi-rem:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶E</span> <span class="free">G</span> <span class="main">&amp;</span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"equi-rem-thm"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">≡</span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">≡</span> <span class="free">R</span> <span class="main">|:</span> <span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷</span> <span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> b<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="skolem"><span class="skolem">v</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∀E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">y</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="keyword1">O!</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">κ</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span> <span class="main">.</span>  <span class="main">«</span><span class="keyword1">O!</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">κ</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span> <span class="quoted">"Associativity of &amp;"</span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> a<span class="main"><span class="main">[</span></span><span class="operator">unconstrain</span> u<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">of</span> <span class="quoted"><span class="skolem">x</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">y</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">y</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">y</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">y</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">y</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="keyword1">O!</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">κ</span><span class="skolem">y</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span> <span class="main">.</span>  <span class="main">«</span><span class="keyword1">O!</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">κ</span><span class="skolem">y</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span> <span class="quoted">"Associativity of &amp;"</span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> b<span class="main"><span class="main">[</span></span><span class="operator">unconstrain</span> v<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">of</span> <span class="quoted"><span class="skolem">y</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"1-1-cor"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> A B<span class="main">)</span>
          <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">y</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 
              b<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">y</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"1-1-cor"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> fu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.ψ fu <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span><span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">κ</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span><span class="main">.</span> <span class="main">«</span><span class="main">(</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">κ</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">κ</span><span class="main">»</span>›</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"Associativity of &amp;"</span><span class="main">)</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span><span class="main">.</span> <span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span><span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">using</span></span> a<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">v</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> gu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.ψ gu <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span><span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">κ</span><span class="skolem">v</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span><span class="main">.</span> <span class="main">«</span><span class="main">(</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">κ</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">κ</span><span class="skolem">v</span><span class="main">»</span>›</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"Associativity of &amp;"</span><span class="main">)</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span><span class="main">.</span> <span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span><span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">using</span></span> b<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> A B <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">y</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 
              b<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">y</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"1-1-cor"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi-rem:4"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"equi-rem:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span>
                        <span class="quoted">"equi-rem:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"equi-rem:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span>
                        <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> fu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.ψ fu <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">y</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> a<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">κ</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">(</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">κ</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">κ</span><span class="main">»</span>›</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"Associativity of &amp;"</span><span class="main">)</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span>  <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span>  <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span> <span class="skolem">u</span> <span class="skolem">v</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> ftu_gv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> rtv_tuv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> oft<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">t</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
           <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.ψ ftu_gv<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> ofu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
           <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.ψ ftu_gv<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> ogv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
           <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.ψ ftu_gv<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> b<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">a</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">v</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span> <span class="main">=</span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> ua<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> ofu rtv_tuv<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> ta<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> a_prop oft rtv_tuv<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="main">=</span> <span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"rule=E"</span> id_sym<span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span> id_sym <span class="quoted">"ord-=Eequiv:1"</span> Ordinary.ψ ta ua <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> fu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
            <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span>  Ordinary.ψ fu <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">y</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> a<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">x</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span> <span class="main">=</span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">a</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> a_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">a</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span> <span class="main">→</span> <span class="bound">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> gv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> ruv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
             <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.ψ gv <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> a_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span> ruv <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span> <span class="quoted">"ord-=Eequiv:1"</span> Ordinary.ψ <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃I"</span> <span class="quoted">"&amp;I"</span> a_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> gv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
            <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.ψ gv <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> b<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">a</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">y</span><span class="skolem">v</span> <span class="main">→</span> <span class="bound">y</span> <span class="main">=</span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∃E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">a</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> a_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">a</span><span class="skolem">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> a_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶E</span> <span class="free">G</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶E</span> <span class="free">G</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">t</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">OF</span> 1<span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> C<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">OF</span> 2<span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">R</span> <span class="main">|:</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span> <span class="main"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"1-1-cor"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> 1<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> B<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> y_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
           <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> y_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                       y_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">z</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="skolem">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">z</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">z</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> 1<span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span>›</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> y_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="main">=</span> <span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">z</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="skolem">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> y_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">z</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">y</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="bound">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> oy_gy<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> 1<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> C<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> x_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> ofx<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
           <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> x_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                       x_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">α</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">α</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">α</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">β</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">β</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">β</span><span class="skolem">y</span> <span class="main">→</span> <span class="bound">β</span> <span class="main">=</span> <span class="bound">α</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">x</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> ofx<span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> x_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">z</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> oz_fz<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">z</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> 1<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">x</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> A<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">z</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">x</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">y</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span>
                <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> oz_fz<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> x_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> oy_gy<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span>
                <span class="operator">OF</span> oz_fz<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> x_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> oy_gy<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span>
                <span class="operator">OF</span> 1<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> x_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="main">=</span> <span class="skolem">x</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"uniqueness:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span><span class="keyword1"><span class="command">.</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"empty-approx:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span><span class="main">)</span> <span class="main">→</span> <span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">R</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃I"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> 0 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">R</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃I"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">R</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"empty-approx:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="main">(</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">b</span><span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span>
    <span class="keyword1"><span class="command">using</span></span> θ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">b</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">b</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">b</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">b</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">b</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">x</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="free">H</span><span class="main">]</span><span class="bound">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">AOT_define</span></span> FminusU <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹Π <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> Π›</span></span></span> <span class="main">(</span><span class="quoted">"_<span class="keyword1"><span class="keyword1"><span class="hidden">⇧</span><sup>-</sup>⇧</span></span>_"</span><span class="main">)</span>
  <span class="quoted">"F-u"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="bound">z</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span>›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Note: not explicitly in PLM.›</span></span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"F-u[den]"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">x</span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"F-u"</span><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="hidden">⇩</span><sub>1</sub>τ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> eqP'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="free">v</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R</span></span> <span class="keyword2"><span class="keyword">where</span></span> R_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem-thm"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> R_prop<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶E</span> <span class="free">G</span> <span class="main">&amp;</span> <span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> C<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">t</span></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> fu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">u</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> gv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="free">v</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="bound">z</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">κ</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">Π</span></span> <span class="skolem"><span class="skolem">κ</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">note</span></span> Π_minus_κI <span class="main">=</span> <span class="quoted">"rule-id-def:2:b[2]"</span><span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">λ</span><span class="main">(</span><span class="bound">Π</span><span class="main">,</span> <span class="bound">κ</span><span class="main">)</span><span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="bound">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">κ</span><span class="main">»</span><span class="main">)</span>›</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"F-u"</span><span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">OF</span> this<span class="main">]</span>
   <span class="keyword2"><span class="keyword">and</span></span> Π_minus_κE <span class="main">=</span> <span class="quoted">"rule-id-def:2:a[2]"</span><span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">λ</span><span class="main">(</span><span class="bound">Π</span><span class="main">,</span> <span class="bound">κ</span><span class="main">)</span><span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="bound">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">κ</span><span class="main">»</span><span class="main">)</span>›</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"F-u"</span><span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">OF</span> this<span class="main">]</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> Π_minus_κ_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">κ</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">Π</span></span> <span class="skolem"><span class="skolem">κ</span></span> <span class="comment1">(* TODO: PLM: quietly dismissed *)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Π_minus_κI<span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">R</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> R_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem-thm"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> R_prop<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶E</span> <span class="free">G</span> <span class="main">&amp;</span> <span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> C<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">t</span></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

    <span class="keyword3"><span class="command">AOT_assume</span></span> Ruv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="free">v</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Π_minus_κ_den Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u'</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">u'</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="bound">z</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span><span class="main">]</span><span class="skolem">u'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Π_minus_κE <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="skolem">u'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> κ<span class="hidden">⇩</span><sub>1</sub>κ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"AOT_term_of_var <span class="main">(</span>Ordinary.Rep <span class="skolem">u'</span><span class="main">)</span>"</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> A<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> α<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">u'</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">v'</span></span> <span class="keyword2"><span class="keyword">where</span></span> v'_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">∀</span> <span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v'</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>

      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v'</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">v'</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">v'</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> Π_minus_κI<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span>
               <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"thm-neg=E"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> v'_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="main">=</span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> Ruv'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span> Ruv id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
            <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> C<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> α<span class="main"><span class="main"><span class="main"><span class="main">=</span></span></span></span><span class="quoted"><span class="skolem">v'</span></span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
                 <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> fu v'_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                                Ruv' v'_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span><span class="main">)</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"0"</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"thm-neg=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> v'_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> t_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">t</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> gt_t_noteq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="skolem">t</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> κ<span class="hidden">⇩</span><sub>1</sub>κ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"AOT_term_of_var <span class="main">(</span>Ordinary.Rep <span class="skolem">t</span><span class="main">)</span>"</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> Π_minus_κE<span class="main">)</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> t_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v'</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> v'_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span>
                        <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> gt_t_noteq_v<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> t_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v'</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> G_minus_v_v'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">v'</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> gt_t_noteq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> κ<span class="hidden">⇩</span><sub>1</sub>κ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"AOT_term_of_var <span class="main">(</span>Ordinary.Rep <span class="skolem">v'</span><span class="main">)</span>"</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> Π_minus_κE<span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> G_minus_v_v'<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v'</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> B<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> gt_t_noteq_v<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u'</span></span> <span class="keyword2"><span class="keyword">where</span></span> u'_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="skolem">v'</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u'</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u'</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="bound">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u'</span><span class="skolem">v'</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">u'</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Ordinary.GEN <span class="quoted">"→I"</span> u'_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">u'</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> Π_minus_κI<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span>
               <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"thm-neg=E"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
               u'_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> u'_eq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="main">=</span> <span class="free">u</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> Ru'v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span> Ruv id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> gt_t_noteq_v <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> v'_noteq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span> <span class="main">→</span> <span class="bound">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> A<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> u'_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span>
                    <span class="operator">THEN</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">t</span></span> <span class="keyword2"><span class="keyword">where</span></span> t_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span> <span class="main">→</span> <span class="bound">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">t</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">v</span></span>
            <span class="keyword1"><span class="command">using</span></span> t_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> that<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="free">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">t</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span>  gt_t_noteq_v<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> u'_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> Ru'v gv<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span> <span class="quoted">"=E-simple:2"</span> id_sym <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> v'_noteq_v <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">v'</span>›</span></span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="skolem">t</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> κ<span class="hidden">⇩</span><sub>1</sub>κ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"AOT_term_of_var <span class="main">(</span>Ordinary.Rep <span class="skolem">t</span><span class="main">)</span>"</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> Π_minus_κE<span class="main">)</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u'</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> u'_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span>
                <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> not_Ruv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="free">v</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> A<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> fu<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> ob<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">b</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> gb<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">b</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> Rub<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">t</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="skolem">t</span> <span class="main">→</span> <span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">t</span></span> <span class="keyword1"><span class="command">using</span></span> b_prop <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> b_unique<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">t</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Adjunction <span class="quoted">"modus-tollens:1"</span> <span class="quoted">"reductio-aa:1"</span> that<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> not_v_eq_b<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="free">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">v</span> <span class="main">=</span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> b_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"rule=E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="free">v</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> not_Ruv <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> not_b_eq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">b</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"modus-tollens:1"</span> not_v_eq_b <span class="quoted">"ord-=Eequiv:2"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="free">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> B<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> gv<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">a</span><span class="free">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="free">v</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> oa<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">a</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> fa<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">a</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> Rav<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">a</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">t</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="free">v</span> <span class="main">→</span> <span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">t</span></span> <span class="keyword1"><span class="command">using</span></span> a_prop <span class="quoted">"&amp;E"</span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> a_unique<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="free">v</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">t</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Adjunction <span class="quoted">"modus-tollens:1"</span> <span class="quoted">"reductio-aa:1"</span> that<span class="main">)</span> 
    <span class="keyword1"><span class="command">AOT_have</span></span> not_u_eq_a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="free">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">u</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> a_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"rule=E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="free">v</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> not_Ruv <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> not_a_eq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">a</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"modus-tollens:1"</span> not_u_eq_a <span class="quoted">"ord-=Eequiv:2"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?R</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">u'</span><span class="bound">v'</span> <span class="main">(</span><span class="bound">u'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="bound">v'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u'</span><span class="bound">v'</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="bound">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span> <span class="main">&amp;</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="bound">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span><span class="main">]</span><span class="main">»</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span> <span class="bound">β</span> <span class="bound">β</span> <span class="main">=</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"free-thms:1"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span></span> <span class="keyword2"><span class="keyword">where</span></span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">=</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> Rxy1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">fact</span> that<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">y</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span> <span class="main">&amp;</span> <span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> 0<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">y</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> that<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"Conjunction Simplification"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"modus-tollens:1"</span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> Rxy2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span>  <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">fact</span> that<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">y</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span> <span class="main">&amp;</span> <span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> 0<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">y</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> that<span class="main">(</span>2<span class="main">,</span>3<span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"Conjunction Simplification"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"modus-tollens:1"</span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> R<span class="hidden">⇩</span><sub>1</sub>xy<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">using</span></span> that <span class="quoted">"&amp;I"</span> <span class="quoted">"∨I"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">presburger</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> R<span class="hidden">⇩</span><sub>1</sub>ab<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">a</span><span class="skolem">b</span>›</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> a_prop b_prop <span class="quoted">"&amp;I"</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"ord-=Eequiv:1"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> R<span class="hidden">⇩</span><sub>1</sub>uv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="free">u</span><span class="free">v</span>›</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"ord-=Eequiv:1"</span> Ordinary.ψ <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u'</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> fu'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span>›</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> not_u'_eq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> not_u'_eq_a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> u'_noteq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> u'_noteq_a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> A<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> fu'<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">v'</span></span> <span class="keyword2"><span class="keyword">where</span></span> v'_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v'</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> gv'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> Ru'v'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> not_v'_eq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="main">=</span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> Ru'v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span> Ru'v' <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> a_unique<span class="main">[</span><span class="operator">OF</span> Ordinary.ψ<span class="main">,</span> <span class="operator">OF</span> fu'<span class="main">,</span> <span class="operator">OF</span> Ru'v<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> not_u'_eq_a <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> v'_noteq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"thm-neg=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v'</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> v'_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">t</span> <span class="main">→</span> <span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v'</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">t</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∀E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> v'_unique<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v'</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">t</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> that <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>

        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v'</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> gv' R<span class="hidden">⇩</span><sub>1</sub>xy Ru'v' u'_noteq_u u'_noteq_a Ordinary.GEN <span class="quoted">"→I"</span> <span class="quoted">"thm-neg=E"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> not_v'_eq_v<span class="main">)</span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">t</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">t</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Rxy1<span class="main">[</span><span class="operator">OF</span> 1<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> u'_noteq_u<span class="main">,</span> <span class="operator">OF</span> u'_noteq_a<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v'</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> v'_unique 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"Ordinary.∃I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> u'_eq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="main">=</span> <span class="free">u</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:6"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="free">v</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Ordinary.GEN <span class="quoted">"→I"</span> gv<span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="free">v</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"&amp;I"</span> 0 <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Ordinary.ψ<span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v'</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="free">u</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> u'_eq_u<span class="main">]</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="free">u</span><span class="skolem">v'</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="free">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="skolem">v'</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="free">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="free">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> 1<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="free">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>4<span class="main">)</span> <span class="quoted">"modus-tollens:1"</span> <span class="quoted">"ord-=Eequiv:1"</span> Ordinary.ψ <span class="quoted">"reductio-aa:2"</span> <span class="quoted">"thm-neg=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="main">(</span><span class="free">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="skolem">v'</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="free">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> not_u_eq_a <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"Conjunction Simplification"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"modus-tollens:1"</span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="free">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> u'_eq_a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">b</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Ordinary.GEN <span class="quoted">"→I"</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                            b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">b</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
             <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main">)</span>
            <span class="keyword1"><span class="command">using</span></span> b_prop <span class="quoted">"&amp;E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"ord-=Eequiv:1"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v'</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> gv'_R1u'v'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">a</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> u'_eq_a <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"rule=E"</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">a</span><span class="skolem">v'</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="skolem">a</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">a</span><span class="skolem">v'</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">a</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">a</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> 1<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">a</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">a</span><span class="skolem">v'</span>›</span></span>
            <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> A<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> fu'<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">a</span><span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> u'_eq_a <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">a</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">a</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">s</span></span> <span class="keyword2"><span class="keyword">where</span></span> s_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">a</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">a</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">s</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
            <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">s</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> s_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span>
                                     gv'_R1u'v'<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">s</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> s_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span>
                                    gv Rav <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ord-=Eequiv:2"</span> <span class="quoted">"ord-=Eequiv:3"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span> 
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">a</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> not_a_eq_u <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span> 
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v'</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> gv'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span>›</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> not_v'_eq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> not_v'_eq_b<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> v'_noteq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> v'_noteq_b<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v'</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> B<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> gv'<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="skolem">v'</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u'</span></span> <span class="keyword2"><span class="keyword">where</span></span> u'_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="skolem">v'</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u'</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> fu'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> Ru'v'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> not_u'_eq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="main">=</span> <span class="free">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> Ruv'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="free">u</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span> Ru'v' <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> b_unique<span class="main">[</span><span class="operator">OF</span> Ordinary.ψ<span class="main">,</span> <span class="operator">OF</span> gv'<span class="main">,</span> <span class="operator">OF</span> Ruv'<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> not_v'_eq_b <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> u'_noteq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"thm-neg=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="skolem">v'</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u'</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> u'_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">v'</span> <span class="main">→</span> <span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u'</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">t</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∀E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> u'_unique<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u'</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">v'</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">t</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> that <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>

        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">t</span><span class="skolem">v'</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u'</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> gv' R<span class="hidden">⇩</span><sub>1</sub>xy Ru'v' u'_noteq_u Ordinary.GEN <span class="quoted">"→I"</span> <span class="quoted">"thm-neg=E"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> not_v'_eq_v fu'<span class="main">)</span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">t</span><span class="skolem">v'</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Rxy2<span class="main">[</span><span class="operator">OF</span> 1<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> v'_noteq_v<span class="main">,</span> <span class="operator">OF</span> v'_noteq_b<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u'</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> u'_unique 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">u</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">t</span><span class="skolem">v'</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"Ordinary.∃I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">u</span><span class="skolem">v'</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> u'_eq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="main">=</span> <span class="free">v</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:6"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">u</span><span class="skolem">v'</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="free">u</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Ordinary.GEN <span class="quoted">"→I"</span> fu<span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="free">u</span><span class="skolem">v'</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"&amp;I"</span> 0 <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Ordinary.ψ<span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u'</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> u'_eq_u<span class="main">]</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">u'</span><span class="free">v</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="free">v</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="free">v</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span> <span class="main">&amp;</span> <span class="free">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="free">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> 1<span class="main">,</span> <span class="operator">simplified</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="free">v</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>4<span class="main">)</span> <span class="quoted">"modus-tollens:1"</span> <span class="quoted">"ord-=Eequiv:1"</span> Ordinary.ψ <span class="quoted">"reductio-aa:2"</span> <span class="quoted">"thm-neg=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="free">v</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="free">v</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span> <span class="main">&amp;</span> <span class="free">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> not_v_eq_b <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="free">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> v'_eq_b<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="main">=</span> <span class="skolem">b</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">u</span><span class="skolem">v'</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">a</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Ordinary.GEN <span class="quoted">"→I"</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                            b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> oa fa<span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">a</span><span class="skolem">v'</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">using</span></span> oa <span class="quoted">"ord-=Eequiv:1"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"0"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u'</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> fu'_R1u'v'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v'</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> v'_eq_b <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"rule=E"</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">b</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> R<span class="hidden">⇩</span><sub>1</sub>_def<span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">b</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">b</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span> <span class="main">&amp;</span> <span class="skolem">b</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">b</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">b</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> 1<span class="main">,</span> <span class="operator">simplified</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">b</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">b</span>›</span></span>
            <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v'</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> B<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> gv'<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">b</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> v'_eq_b <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="skolem">b</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">s</span></span> <span class="keyword2"><span class="keyword">where</span></span> s_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">s</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="skolem">b</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">s</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
            <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">s</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> s_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span>
                                     fu'_R1u'v'<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">s</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> s_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span>
                                    fu Rub <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ord-=Eequiv:2"</span> <span class="quoted">"ord-=Eequiv:3"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span> 
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">b</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> not_b_eq_v <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span> 
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R<span class="hidden">⇩</span><sub>1</sub></span><span class="main">]</span><span class="bound">u</span><span class="skolem">v'</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> R_prop <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"reductio-aa:2"</span><span class="main">)</span> 
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"P'-eq"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="free">v</span> <span class="main">→</span> <span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="bound">z</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">κ</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">Π</span></span> <span class="skolem"><span class="skolem">κ</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">note</span></span> Π_minus_κI <span class="main">=</span> <span class="quoted">"rule-id-def:2:b[2]"</span><span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">λ</span><span class="main">(</span><span class="bound">Π</span><span class="main">,</span> <span class="bound">κ</span><span class="main">)</span><span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="bound">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">κ</span><span class="main">»</span><span class="main">)</span>›</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"F-u"</span><span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">OF</span> this<span class="main">]</span>
   <span class="keyword2"><span class="keyword">and</span></span> Π_minus_κE <span class="main">=</span> <span class="quoted">"rule-id-def:2:a[2]"</span><span class="main">[</span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">λ</span><span class="main">(</span><span class="bound">Π</span><span class="main">,</span> <span class="bound">κ</span><span class="main">)</span><span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="bound">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">κ</span><span class="main">»</span><span class="main">)</span>›</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"F-u"</span><span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">OF</span> this<span class="main">]</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> Π_minus_κ_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">κ</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">Π</span></span> <span class="skolem"><span class="skolem">κ</span></span> <span class="comment1">(* TODO: PLM: quietly dismissed *)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Π_minus_κI<span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">+</span></span>

  <span class="keyword1"><span class="command">AOT_have</span></span> Π_minus_κE1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="skolem">κ'</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> Π_minus_κE2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">κ'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">κ</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">κ</span><span class="main">]</span><span class="skolem">κ'</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">Π</span></span> <span class="skolem"><span class="skolem">κ</span></span> <span class="skolem"><span class="skolem">κ'</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="bound">z</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">κ</span><span class="main">]</span><span class="skolem">κ'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Π_minus_κE that <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="skolem">κ'</span> <span class="main">&amp;</span> <span class="skolem">κ'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">κ</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="skolem">κ'</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">κ'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">κ</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> Π_minus_κI'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">κ</span><span class="main">]</span><span class="skolem">κ'</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="skolem">κ'</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">κ'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">κ</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">Π</span></span> <span class="skolem"><span class="skolem">κ</span></span> <span class="skolem"><span class="skolem">κ'</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> κ'_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">κ'</span><span class="main">↓</span>›</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"russell-axiom[exe,1].ψ_denotes_asm"</span> that<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="bound">z</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">κ</span><span class="main">]</span><span class="skolem">κ'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> κ'_den <span class="quoted">"&amp;I"</span> that<span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">κ</span><span class="main">]</span><span class="skolem">κ'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Π_minus_κI <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">qed</span></span>

  <span class="keyword3"><span class="command">AOT_assume</span></span> Gv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="free">v</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> Fu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">u</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R</span></span> <span class="keyword2"><span class="keyword">where</span></span> R_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> Fact1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">r</span></span><span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="bound">r</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">s</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="bound">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">r</span><span class="bound">s</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> Fact1'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">s</span></span><span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="bound">s</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">r</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="bound">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">r</span><span class="bound">s</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem-thm"</span><span class="main">[</span><span class="operator">unvarify</span> F G<span class="main">,</span> <span class="operator">OF</span> Π_minus_κ_den<span class="main">,</span> <span class="operator">OF</span> Π_minus_κ_den<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> R_prop<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶E</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span> <span class="main">&amp;</span> <span class="skolem">R</span> <span class="main">|:</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span> <span class="keyword1">⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> Fact2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">r</span></span><span class="main">∀</span><span class="bound"><span class="bound">s</span></span><span class="main">∀</span><span class="bound"><span class="bound">t</span></span><span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="bound">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="bound">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="bound">t</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">r</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">s</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">r</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">s</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi-rem:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?R</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="bound">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span><span class="main">]</span><span class="main">»</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> R_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>

  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="var">?R</span>"</span></span><span class="main"><span class="main">]</span></span> R_den <span class="quoted">"equi:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">r</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> Fr<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">r</span>›</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> not_r_eq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">r</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> r_noteq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">r</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"thm-neg=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">r</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span><span class="main">(</span><span class="operator">rule</span> Π_minus_κI<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Fr r_noteq_u<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">s</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="bound">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="bound">s</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Fact1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"→E"</span> Ordinary.ψ <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">s</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="bound">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="bound">s</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">s</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">s</span></span> <span class="keyword2"><span class="keyword">where</span></span> s_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">s</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> G_minus_v_s<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">s</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> Rrs<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">s</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> s_unique<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">s</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">t</span></span>
        <span class="keyword1"><span class="command">using</span></span> s_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> that<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> Gs<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">s</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Π_minus_κE1<span class="main">[</span><span class="operator">OF</span> G_minus_v_s<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> s_noteq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">s</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Π_minus_κE2<span class="main">[</span><span class="operator">OF</span> G_minus_v_s<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">s</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">r</span><span class="bound">s</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">r</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">s</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">s</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Gs Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">s</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main"><span class="keyword3">;</span></span>
              <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> Π_minus_κI' Fr Gs s_noteq_v Rrs r_noteq_u<span class="main">)</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">t</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">t</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">r</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">t</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> not_r_eq_u <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">s</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> s_unique 1 <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> r_eq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">r</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">s</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">r</span><span class="bound">s</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">r</span><span class="bound">t</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">s</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="free">v</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Gv Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">r</span><span class="free">v</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
             <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> Π_minus_κI' Fr r_eq_u <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Ordinary.ψ<span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">t</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">t</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">r</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">r</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> r_eq_u Π_minus_κE2 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">s</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">r</span><span class="bound">s</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"reductio-aa:2"</span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">s</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> Gs<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">s</span>›</span></span>

    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> not_s_eq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">s</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> s_noteq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">s</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"thm-neg=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">s</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Π_minus_κI<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Gs s_noteq_v<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">r</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="bound">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">r</span><span class="skolem">s</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Fact1'<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">r</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="bound">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">r</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="skolem">s</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">r</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">r</span></span> <span class="keyword2"><span class="keyword">where</span></span> r_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">t</span><span class="skolem">s</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">r</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> F_minus_u_r<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">r</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> Rrs<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">s</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> r_unique<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">r</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">t</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">s</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">t</span></span>
        <span class="keyword1"><span class="command">using</span></span> r_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> that<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> Fr<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">r</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Π_minus_κE1<span class="main">[</span><span class="operator">OF</span> F_minus_u_r<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> r_noteq_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">r</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Π_minus_κE2<span class="main">[</span><span class="operator">OF</span> F_minus_u_r<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">r</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="bound">r</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="bound">t</span><span class="skolem">s</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">r</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">r</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Fr Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">r</span><span class="skolem">s</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main"><span class="keyword3">;</span></span>
              <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> Π_minus_κI' Fr Gs s_noteq_v Rrs r_noteq_u<span class="main">)</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">s</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">s</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">s</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">s</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> not_s_eq_v <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">r</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> r_unique 1 <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> s_eq_v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">s</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">r</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="bound">r</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">t</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="bound">t</span><span class="skolem">s</span> <span class="main">→</span> <span class="bound">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">r</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="free">u</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Fu Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="free">u</span><span class="skolem">s</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
             <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> Π_minus_κI' Gs s_eq_v <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Ordinary.ψ<span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">t</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">s</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">s</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">s</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">s</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">u</span><span class="main">]</span><span class="skolem">t</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">s</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">t</span><span class="skolem">s</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="free">v</span><span class="main">]</span><span class="skolem">s</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">s</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">(</span><span class="skolem">s</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Π_minus_κE2 <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>4<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span> s_eq_v <span class="quoted">"thm-neg=E"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span> <span class="main">&amp;</span> <span class="skolem">s</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">t</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">r</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">r</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="bound">r</span><span class="skolem">s</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"equi:1"</span> <span class="quoted">"reductio-aa:2"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"approx-cont:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound">G</span> <span class="main">◇</span><span class="main">(</span><span class="bound">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">G</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="bound">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">G</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?P</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">E!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">E!</span><span class="bound">x</span><span class="main">]</span><span class="main">»</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="keyword1">q<span class="hidden">⇩</span><sub>0</sub></span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="keyword1">q<span class="hidden">⇩</span><sub>0</sub></span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> q<span class="hidden">⇩</span><sub>0</sub>_prop<span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">E!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">E!</span><span class="bound">x</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">∃</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">E!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">E!</span><span class="bound">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> q<span class="hidden">⇩</span><sub>0</sub>_def<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"log-prop-prop:2"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="keyword1">E!</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">E!</span><span class="bound">κ</span><span class="main">»</span>›</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"RM◇"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span><span class="main"><span class="keyword3">?</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"empty-approx:1"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F H<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"rel-neg-T:3"</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">u</span>›</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">u</span>›</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="skolem">u</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"thm-noncont-e-e:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"contingent-properties:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"qml:2"</span> <span class="quoted">"rule-ui:3"</span> <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span>  <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">v</span>›</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">v</span>›</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> A <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> θ <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"empty-approx:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F H<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"rel-neg-T:3"</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> Px<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> A <span class="quoted">"∃E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="comment1">(* TODO: PLM: Proving O!x is silently skipped. *)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">E!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">E!</span><span class="skolem">x</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="keyword1">E!</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"T◇"</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">◇</span><span class="keyword1">E!</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 1<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> AOT_ordinary<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Px <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">u</span>›</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">u</span>›</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="skolem">u</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"thm-noncont-e-e:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"contingent-properties:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"qml:2"</span> <span class="quoted">"rule-ui:3"</span> <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span>  <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"eq-part:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F G<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span> 2<span class="main"><span class="main">]</span></span><span class="main">)</span>
             <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"rel-neg-T:3"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span>›</span></span> <span class="keyword1"><span class="command">using</span></span> B <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> θ <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"S5Basic:11"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">↓</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"rel-neg-T:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"approx-cont:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound">G</span> <span class="main">◇</span><span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">G</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">G</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?P</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">E!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">E!</span><span class="bound">x</span><span class="main">]</span><span class="main">»</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="keyword1">q<span class="hidden">⇩</span><sub>0</sub></span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="keyword1">q<span class="hidden">⇩</span><sub>0</sub></span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> q<span class="hidden">⇩</span><sub>0</sub>_prop<span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">E!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">E!</span><span class="bound">x</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">∃</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">E!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">E!</span><span class="bound">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> q<span class="hidden">⇩</span><sub>0</sub>_def<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"log-prop-prop:2"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">κ</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span><span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="keyword1">E!</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">E!</span><span class="bound">κ</span><span class="main">»</span>›</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"RM◇"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span><span class="main"><span class="keyword3">?</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"empty-approx:1"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F H<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"rel-neg-T:3"</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="skolem">u</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">¬</span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="skolem">u</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"thm-noncont-e-e:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"contingent-properties:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> RN <span class="quoted">"qml:2"</span> <span class="quoted">"rule-ui:3"</span> <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Act-Sub:3"</span> <span class="quoted">"KBasic2:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:3"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">v</span>›</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">v</span>›</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> A <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> θ <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"empty-approx:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F H<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"rel-neg-T:3"</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> Px<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> A <span class="quoted">"∃E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">E!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">E!</span><span class="skolem">x</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="keyword1">E!</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"T◇"</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">◇</span><span class="keyword1">E!</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 1<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> AOT_ordinary<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Px <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
          <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
            <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="skolem">u</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">¬</span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="skolem">u</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"thm-noncont-e-e:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"contingent-properties:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> RN <span class="quoted">"qml:2"</span> <span class="quoted">"rule-ui:3"</span> <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Act-Sub:3"</span> <span class="quoted">"KBasic2:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:3"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"eq-part:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F G<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span> 2<span class="main"><span class="main">]</span></span><span class="main">)</span>
               <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">+</span></span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> B <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="bound">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> θ <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">L</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="main">«</span><span class="var">?P</span><span class="main">»</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"S5Basic:11"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">L</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup></span><span class="main">↓</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"rel-neg-T:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> eqE <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">infixl</span></span> <span class="quoted">‹<span class="keyword1"><span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span></span>›</span> 50<span class="main">)</span>
  eqE<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">F</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"apE-eqE:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">→</span> <span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">«</span><span class="keyword1">(=<span class="hidden">⇩</span><sub>E</sub>)</span><span class="main">»</span>"</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"equi:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"=E[denotes]"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.GEN <span class="quoted">"→I"</span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> Fu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> Gu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">[</span><span class="operator">OF</span> eqE<span class="main">,</span> <span class="operator">OF</span> 0<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> α<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">u</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
            Ordinary.ψ Fu <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="skolem">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="skolem">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">u</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span> Ordinary.ψ Gu <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Ordinary.ψ<span class="main"><span class="main">]</span></span> <span class="quoted">"ord-=Eequiv:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> <span class="quasi_keyword">dest</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> Gv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> Fv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">[</span><span class="operator">OF</span> eqE<span class="main">,</span> <span class="operator">OF</span> 0<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> α<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">v</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
            Ordinary.ψ Gv <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="bound">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">v</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span> Ordinary.ψ Fv <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Ordinary.ψ<span class="main"><span class="main">]</span></span> <span class="quoted">"ord-=Eequiv:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> <span class="quasi_keyword">dest</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"apE-eqE:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">&amp;</span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span><span class="main">)</span> <span class="main">→</span> <span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">&amp;</span> <span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"apE-eqE:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Adjunction <span class="quoted">"eq-part:3"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">AOT_act_theorem</span></span> <span class="quoted">"eq-part-act:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"act-conj-act:4"</span> <span class="quoted">"logic-actual"</span><span class="main">[</span><span class="operator">act_axiom_inst</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_act_theorem</span></span> <span class="quoted">"eq-part-act:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"apE-eqE:1"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"eq-part-act:1"</span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>


<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"actuallyF:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"Act-Basic:5"</span> <span class="quoted">"act-conj-act:4"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"Commutativity of ≡"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">x</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">»</span>›</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">x</span> <span class="main">→</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"deduction-theorem"</span><span class="main">)</span> 
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Ordinary.res-var-bound-reas[2]"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 2 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="free">F</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="free">F</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> eqE<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡Df"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡S"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> 2<span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> 1<span class="main">)</span>
  <span class="comment1">(* TODO: PLM: refers to a rule of substitution, which is not applicable *)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="free">F</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="main">→</span> <span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"apE-eqE:1"</span><span class="main">[</span><span class="operator">unvarify</span> G<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"RA[2]"</span><span class="main">,</span> <span class="operator">OF</span> 2<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"act-cond"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"actuallyF:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN <span class="quoted">"→I"</span> <span class="quoted">"df-rigid-rel:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> RN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Act-Basic:6"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">x</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">»</span>›</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
    <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"approx-nec:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="free">F</span><span class="main">)</span> <span class="main">→</span> <span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> CBF<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> A <span class="quoted">"qml:2"</span><span class="main">[</span><span class="operator">axiom_inst</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> act_F_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"apE-eqE:1"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> act_F_den Ordinary.GEN <span class="quoted">"→I"</span> <span class="quoted">"≡I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> act_F_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"nec-imp-act"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> act_F_u <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"sc-eq-fur:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"approx-nec:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">H</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">H</span> <span class="main">(</span><span class="bound">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span> <span class="main">≡</span> <span class="bound">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-part:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">H</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"eq-part:4"</span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main"><span class="main">,</span></span></span> <span class="operator">OF</span> 0<span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">H</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">H</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">H</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigidifies(</span><span class="skolem">H</span><span class="main">,</span><span class="free">F</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rigid-der:3"</span> <span class="quoted">"∃E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> H<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="skolem">H</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">x</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> H_rigid<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> H<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"df-rigid-rel:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"CBF"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> rigid<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span>
     <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:3:a"</span> <span class="quoted">"sc-eq-fur:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">H</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword1"><span class="command">using</span></span> H<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"apE-eqE:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"eq-part:1"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> F_approx_H<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">H</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"eq-part:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> H_eq_act_H<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">H</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
      <span class="keyword1"><span class="command">using</span></span> rigid <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"apE-eqE:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> H<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">using</span></span> F_approx_H H_eq_act_H <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"eq-part:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> b<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span> 
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"eq-part:3"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> a<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> b<span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"approx-nec:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="keyword1">Rigid(</span><span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Rigid(</span><span class="free">G</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">(</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">→</span> <span class="main">□</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Rigid(</span><span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic:3"</span> <span class="quoted">"4"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">(</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">→</span> <span class="main">□</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> RM<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> CBF<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> F_nec<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> G_nec<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span> <span class="quoted">"equi:3"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> C1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> C2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R'</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigidifies(</span><span class="skolem">R'</span><span class="main">,</span> <span class="skolem">R</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rigid-der:3"</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="skolem">R'</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...∀</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">(</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...∀</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">(</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...∀</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">(</span><span class="main">◇</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"rigid-rel-thms:1"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> D<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">(</span><span class="main">◇</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub></span><span class="bound">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub></span><span class="bound">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> tuple_forall<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> E<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">(</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub></span><span class="bound">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub></span><span class="bound">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> tuple_forall<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">OF</span> 1<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic:11"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
             <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:1:b"</span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic2:3"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> F_nec <span class="quoted">"&amp;E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"sc-eq-box-box:1"</span> <span class="quoted">"vdash-properties:6"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"qml:2"</span> <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> C1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">a</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> a_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"KBasic:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">a</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> a_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> G_nec <span class="quoted">"qml:2"</span> <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">next</span></span>
            <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">a</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> D<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span>
                    E<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span>
                      <span class="operator">OF</span> a_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"T◇"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">next</span></span>
            <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
              <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v'</span>
              <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v'</span> <span class="main">→</span> <span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v'</span> <span class="main">→</span> <span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"KBasic:11"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
                <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v'</span> <span class="main">→</span> <span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
                 <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:1:b"</span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span>
                <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v'</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span>
                <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic2:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"KBasic2:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
              <span class="keyword1"><span class="command">AOT_have</span></span> Gv'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> G_nec 1
                <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"B◇"</span> <span class="quoted">"KBasic:13"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 D<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> R'uv'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"B◇"</span> <span class="quoted">"T◇"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span> 
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> E<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span>
                <span class="keyword1"><span class="command">using</span></span> a_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span>
                             <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> Gv'<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-nec3:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>4<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
              <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">□</span><span class="main">(</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
                <span class="keyword1"><span class="command">using</span></span> 3 <span class="quoted">"KBasic:11"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">□</span><span class="main">(</span><span class="skolem">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">qed</span></span>
            <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound"><span class="bound">v'</span></span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.res-var-bound-reas[BF]"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">qed</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.res-var-bound-reas[Buridan]"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v'</span> <span class="main">→</span> <span class="bound">v'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
               <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> 1 <span class="quoted">"equi:1"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">□</span><span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> A<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"KBasic:11"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">□</span><span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic:11"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
             <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:1:b"</span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic2:3"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> G_nec <span class="quoted">"&amp;E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"sc-eq-box-box:1"</span> <span class="quoted">"vdash-properties:6"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">v</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"qml:2"</span> <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> C2<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u'</span><span class="skolem">v</span> <span class="main">→</span> <span class="bound">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">a</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u'</span><span class="skolem">v</span> <span class="main">→</span> <span class="bound">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u'</span><span class="skolem">v</span> <span class="main">→</span> <span class="bound">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">a</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> a_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"KBasic:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
            <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">a</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> a_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> F_nec <span class="quoted">"qml:2"</span> <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">next</span></span>
            <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">a</span><span class="skolem">v</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> D<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span>
                    E<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span>
                      <span class="operator">OF</span> a_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"T◇"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">next</span></span>
            <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u'</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u'</span><span class="skolem">v</span> <span class="main">→</span> <span class="bound">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
              <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u'</span>
              <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v</span> <span class="main">→</span> <span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v</span> <span class="main">→</span> <span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"KBasic:11"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
                <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v</span> <span class="main">→</span> <span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
                 <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:1:b"</span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span>
                <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span>
                <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic2:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"KBasic2:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
              <span class="keyword1"><span class="command">AOT_have</span></span> Fu'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> F_nec 1
                <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"B◇"</span> <span class="quoted">"KBasic:13"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 D<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> R'u'v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"B◇"</span> <span class="quoted">"T◇"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span> 
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="skolem">u'</span><span class="skolem">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> E<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span>›</span></span>
                <span class="keyword1"><span class="command">using</span></span> a_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">,</span>
                             <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> Fu'<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-nec3:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>4<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
              <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">□</span><span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
                <span class="keyword1"><span class="command">using</span></span> 3 <span class="quoted">"KBasic:11"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">□</span><span class="main">(</span><span class="skolem">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">qed</span></span>
            <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound"><span class="bound">u'</span></span><span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u'</span><span class="skolem">v</span> <span class="main">→</span> <span class="bound">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">a</span><span class="main">)</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.res-var-bound-reas[BF]"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">qed</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u'</span><span class="skolem">v</span> <span class="main">→</span> <span class="bound">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.res-var-bound-reas[Buridan]"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u'</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u'</span><span class="skolem">v</span> <span class="main">→</span> <span class="bound">u'</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">u</span><span class="main">)</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
               <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> 1 <span class="quoted">"equi:1"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">□</span><span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> A<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"KBasic:11"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">□</span><span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.res-var-bound-reas[BF]"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main">↓</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp_all</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"ex:2:a"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R'</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic:3"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="skolem">R'</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst_using</span> <span class="quasi_keyword">subst</span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡Df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
           <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="main">□</span><span class="bound">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Buridan <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst_using</span> <span class="quasi_keyword">subst</span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡Df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
           <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
    <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">→</span> <span class="main">□</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">AOT_define</span></span> numbers <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">Numbers'(</span></span>_<span class="keyword1"><span class="keyword1">,</span></span>_<span class="keyword1"><span class="keyword1">')</span></span>›</span><span class="main">)</span>
  <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="keyword1">A!</span><span class="free">x</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"numbers[den]"</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">‹<span class="free">Π</span><span class="main">↓</span> <span class="main">→</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="free">κ</span><span class="main">,</span> <span class="free">Π</span><span class="main">)</span> <span class="main">≡</span> <span class="keyword1">A!</span><span class="free">κ</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="free">κ</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">Π</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quasi_keyword">dest</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span>  numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num-tran:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span> <span class="main">→</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">H</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span> <span class="quoted">"≡I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> Ax<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="free">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> numbers<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">H</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Ax <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> GEN<span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> θ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"approx-nec:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">H</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"eq-part:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">H</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> Ax<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="free">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> numbers<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Ax <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> GEN<span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> θ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"approx-nec:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num-tran:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="free">H</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> numbers<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="free">H</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> numbers<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"approx-nec:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> GEN<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num-tran:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span> <span class="main">→</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">H</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"apE-eqE:1"</span> <span class="quoted">"Hypothetical Syllogism"</span> <span class="quoted">"num-tran:1"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pre-Hume"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="free">H</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">x</span> <span class="main">=</span> <span class="free">y</span> <span class="main">≡</span> <span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span> <span class="quoted">"≡I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span> <span class="free">H</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-tran:2"</span> <span class="quoted">"→E"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> Ax<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="free">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> xF<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> numbers<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span> <span class="free">H</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> Ay<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="free">y</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> yF<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="free">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> numbers<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> G_approx_H<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"ab-obey:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Ax<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Ay<span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> xF<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">H</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"approx-nec:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> G_approx_H<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="free">y</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> yF<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">symmetric</span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">y</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"two-num-not"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span><span class="main">(</span><span class="bound">u</span> <span class="main">≠</span> <span class="bound">v</span><span class="main">)</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">x</span><span class="main">∃</span><span class="bound">G</span><span class="main">∃</span><span class="bound">H</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="bound">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="bound">H</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="bound">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">H</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> eqE_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span><span class="main">(</span><span class="bound">u</span> <span class="main">≠</span> <span class="bound">v</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> Oc<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">c</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="skolem">c</span> <span class="main">≠</span> <span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">d</span></span> <span class="keyword2"><span class="keyword">where</span></span> Od<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">d</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> c_noteq_d<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">c</span> <span class="main">≠</span> <span class="skolem">d</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> c_noteqE_d<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">c</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"=E-simple:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"modus-tollens:1"</span> <span class="quoted">"=-infix"</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span> <span class="quoted">"thm-neg=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> not_c_eqE_d<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">c</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"thm-neg=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">A!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"A-objects"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">a</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">A!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"A-objects"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">b</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> num_a_eq_c<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> a_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> a_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> num_b_eq_d<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">b</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"equi:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?R</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">(</span><span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span> <span class="main">&amp;</span> <span class="bound">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">)</span><span class="main">]</span><span class="main">»</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> Rcd<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">c</span><span class="skolem">d</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
         <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> Od Oc <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="var">?R</span>›</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"equi:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> eqE_den Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> u_is_c<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span> <span class="main">=</span> <span class="skolem">c</span>›</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">u</span><span class="bound">v</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">d</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Od Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="skolem">d</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Od<span class="main"><span class="main">]</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">d</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> u_is_c<span class="main">[</span><span class="operator">symmetric</span><span class="main">]</span> Rcd <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v</span>›</span></span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> v_is_d<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="main">=</span> <span class="skolem">d</span>›</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="bound">u</span><span class="skolem">v</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"equi:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">c</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Oc Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span><span class="skolem">c</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Oc<span class="main"><span class="main">]</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">c</span><span class="skolem">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> v_is_d<span class="main">[</span><span class="operator">symmetric</span><span class="main">]</span> Rcd <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">]</span><span class="skolem">u</span><span class="skolem">v</span>›</span></span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="var">?R</span><span class="main">»</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">a</span> <span class="main">=</span> <span class="skolem">b</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span>  <span class="quoted">"pre-Hume"</span><span class="main">[</span><span class="operator">unvarify</span> G H<span class="main">,</span> <span class="operator">OF</span> eqE_den<span class="main">,</span> <span class="operator">OF</span> eqE_den<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> num_a_eq_d<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> num_b_eq_d <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> not_equiv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span><span class="skolem">c</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="skolem">c</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> eqE<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> Oc <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span><span class="skolem">c</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Oc<span class="main"><span class="main">]</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="skolem">c</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">c</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">c</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">c</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> not_c_eqE_d <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">∃</span><span class="bound">G</span> <span class="main">∃</span><span class="bound">H</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="bound">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="bound">H</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="bound">G</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">H</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">a</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">c</span><span class="main">]</span><span class="main">»</span>›</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">d</span><span class="main">]</span><span class="main">»</span>›</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> eqE_den <span class="quoted">"&amp;I"</span> num_a_eq_c num_a_eq_d not_equiv<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="keyword1">Numbers(</span><span class="bound">κ</span><span class="main">,</span><span class="free">G</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">κ</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
     <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"numbers[den]"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="operator">axiom_inst</span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"A-objects"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="keyword1">Numbers(</span><span class="bound">κ</span><span class="main">,</span><span class="free">G</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="bound">κ</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">κ</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
     <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"A-objects!"</span> <span class="quoted">"numbers[den]"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="operator">axiom_inst</span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num-cont:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span><span class="main">∃</span><span class="bound">G</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="bound">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">□</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="bound">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound">G</span> <span class="main">◇</span><span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">G</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"approx-cont:2"</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">◇</span><span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">G</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> ζ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic2:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="quoted">"4◇"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="skolem">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num:1"</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">□</span><span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="skolem">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="skolem">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="skolem">G</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">a</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst_using_rev</span> <span class="quasi_keyword">subst</span><span class="main"><span class="main">:</span></span> numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡Df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1">A!</span><span class="skolem">a</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">a</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">□</span><span class="main">(</span><span class="skolem">a</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> CBF<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">→</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span> <span class="main">→</span> <span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">¬</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span> <span class="main">→</span> <span class="main">¬</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">¬</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span> <span class="main">→</span> <span class="main">¬</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">→</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"useful-tautologies:4"</span> <span class="quoted">"useful-tautologies:5"</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">presburger</span>
       <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> A<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"KBasic:13"</span> ζ <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"KBasic:11"</span> <span class="quoted">"en-eq:2[1]"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>4<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">◇</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"en-eq:3[1]"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>4<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> B θ <span class="quoted">"KBasic:13"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">◇</span><span class="skolem">a</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>

  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="skolem">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">□</span><span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="skolem">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="bound">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">□</span><span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="bound">G</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span><span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="bound">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">□</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="bound">G</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num-cont:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">□</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"S5Basic:6"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">□</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> RM<span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> act_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> G_nec<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> G_rigid<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="free">G</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">]</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> numbers<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> Ax<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">→</span> <span class="main">□</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"approx-nec:3"</span><span class="main">[</span><span class="operator">unvarify</span> F<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"actuallyF:2"</span><span class="main">,</span> <span class="operator">OF</span> G_rigid<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">→</span> <span class="main">□</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> RN <span class="quoted">"pre-en-eq:1[1]"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"sc-eq-box-box:5"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">□</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∀I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> BF<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="free">G</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"ex:2:a"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Ax <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"oa-facts:2"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="keyword1">A!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"KBasic:3"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="keyword1">A!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="free">G</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic:3"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst_using</span> <span class="quasi_keyword">subst</span><span class="main"><span class="main">:</span></span> numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡Df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">fact</span> 2<span class="main">)</span>
    <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num-cont:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"num-cont:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span>
      <span class="main">(</span><span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span> <span class="main"><span class="keyword3">|</span></span> <span class="operator">rule</span> <span class="quoted">"actuallyF:2"</span><span class="main">)</span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num-uniq"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"A-Exists:2"</span> <span class="quoted">"RA[2]"</span> <span class="quoted">"num:2"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">AOT_define</span></span> num <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> κ<span class="hidden">⇩</span><sub>s</sub>›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">#</span></span>_›</span> <span class="main">[</span>100<span class="main">]</span> 100<span class="main">)</span> <span class="comment1">(* TODO: figure out a suitable precedence *)</span>
  <span class="quoted">"num-def:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="bound">G</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="bound">G</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num-def:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">G</span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-def:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"num-uniq"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num-can:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">G</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">x</span><span class="main">(</span><span class="keyword1">A!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> RN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"numbers[den]"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-uniq"</span> <span class="quoted">"equiv-desc-eq:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"num-def:1"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"num-uniq"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"num-can:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">G</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">x</span><span class="main">(</span><span class="keyword1">A!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="bound">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> id_trans<span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"num-can:1"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"equiv-desc-eq:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span>
       <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"A-descriptions"</span> <span class="quoted">"logic-actual-nec:3"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                    GEN <span class="quoted">"Act-Basic:5"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> act_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted">"eq-part:3[terms]"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span> <span class="main">&amp;</span> <span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">H</span> <span class="main">→</span> <span class="skolem">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">H</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="skolem"><span class="skolem">H</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"eq-part:2"</span> <span class="quoted">"eq-part:3"</span> <span class="quoted">"→I"</span> <span class="quoted">"&amp;E"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"actuallyF:1"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">(</span><span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">≡</span> <span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"RA[2]"</span> <span class="quoted">"→I"</span> <span class="quoted">"≡I"</span>
               <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"eq-part:3"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> act_den<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">]</span></span>
                     <span class="quoted">"eq-part:3[terms]"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> act_den<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">≡</span> <span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"logic-actual-nec:2"</span><span class="main">[</span><span class="operator">axiom_inst</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Act-Basic:5"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="comment1">(* TODO: PLM: Important: cites 727.4 instead of 727.5 ; also missing parentheses? wrong citation? Next formula after θ. *)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="quasi_keyword">elim</span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡E"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"Act-Basic:5"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"Act-Basic:5"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"logic-actual-nec:3"</span> <span class="quoted">"vdash-properties:1[2]"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span>  <span class="main">∀</span><span class="bound">F</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="bound">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"rule-ui:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="bound">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>6<span class="main">)</span> <span class="quoted">"logic-actual-nec:3"</span> <span class="quoted">"oth-class-taut:3:a"</span> <span class="quoted">"vdash-properties:1[2]"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="bound">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span> <span class="main">≡</span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">A!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"Act-Basic:2"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="bound">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"oth-class-taut:4:f"</span> <span class="quoted">"vdash-properties:6"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="keyword1">A!</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="bound">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Act-Basic:2"</span> <span class="quoted">"≡E"</span><span class="main">(</span>6<span class="main">)</span> <span class="quoted">"oth-class-taut:3:a"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="bound">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Note: not in PLM.›</span></span>
<span class="keyword1"><span class="command">AOT_act_theorem</span></span> numbers_num<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">#</span><span class="free">G</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"num-def:1"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"num-uniq"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-uniq"</span> <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"y-in:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">AOT_define</span></span> NaturalCardinal <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">NaturalCardinal'(</span></span>_<span class="keyword1"><span class="keyword1">')</span></span>›</span><span class="main">)</span>
  card<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">∃</span><span class="bound">G</span><span class="main">(</span><span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"natcard-nec"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span><span class="main">(</span><span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> card<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-nec:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">□</span><span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∃</span><span class="bound">G</span> <span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Buridan <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst_using</span> <span class="quasi_keyword">subst</span><span class="main"><span class="main">:</span></span> card<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡Df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_act_theorem</span></span> <span class="quoted">"hume:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">F</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span> <span class="main">≡</span> <span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"pre-Hume"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x y<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"num-def:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"num-def:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> numbers_num<span class="main">)</span>

<span class="keyword1"><span class="command">AOT_act_theorem</span></span> <span class="quoted">"hume:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">F</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span> <span class="main">≡</span> <span class="main">∃</span><span class="bound">R</span> <span class="main">(</span><span class="bound">R</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">Π</span> <span class="main">.</span> <span class="main">«</span> <span class="bound">Π</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">Π</span> <span class="main">.</span> <span class="main">«</span><span class="bound">Π</span> <span class="main">|:</span> <span class="free">F</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟶<span class="hidden">⇩</span><sub>o</sub><span class="hidden">⇩</span><sub>n</sub><span class="hidden">⇩</span><sub>t</sub><span class="hidden">⇩</span><sub>o</sub>E</span> <span class="free">G</span><span class="main">»</span>›</span></span><span class="main">)</span>
   <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">fact</span> <span class="quoted">"equi-rem-thm"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:3"</span> <span class="quoted">"hume:1"</span> <span class="quoted">"≡E"</span><span class="main">(</span>5<span class="main">)</span> <span class="quoted">"≡Df"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">AOT_act_theorem</span></span> <span class="quoted">"hume:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span> <span class="main">→</span> <span class="main">#</span><span class="free">F</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"apE-eqE:1"</span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"hume:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"hume-strict"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span><span class="main">)</span> <span class="main">≡</span> <span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="skolem">a</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"id-eq:1"</span> <span class="quoted">"pre-Hume"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> a_prop<span class="main"><span class="main"><span class="main">[</span></span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> num_b_F<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">b</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"instantiation"</span> <span class="quoted">"num:1"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> num_b_G<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">b</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-tran:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="skolem">b</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="main">=</span> <span class="skolem">b</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">z</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">z</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pre-Hume"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> that<span class="main">,</span> <span class="operator">OF</span> num_b_F<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"eq-part:1"</span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">b</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">b</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="skolem">b</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> num_b_F num_b_G <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"uniqueness:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> unotEu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">y</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">y</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">y</span>›</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="skolem">y</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"thm-neg=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"ord-=Eequiv:1"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> zero <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹κ<span class="hidden">⇩</span><sub>s</sub>›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">0</span></span>›</span><span class="main">)</span>
  <span class="quoted">"zero:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">#</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span>›</span></span>

<span class="comment1">(* TODO: not part of PLM *)</span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"zero:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">0</span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"zero:1"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"num-def:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"zero-card"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="main">0</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"zero:1"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
   <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"num-def:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> card<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="main">»</span>›</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
   <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=I:1"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"num-def:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-num:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> act_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">∃!</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">≡</span> <span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"hume-strict"</span><span class="main">[</span><span class="operator">unvarify</span> G<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">,</span> <span class="operator">THEN</span> RN<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">∃!</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">≡</span> <span class="free">G</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"nec-imp-act"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">∃!</span><span class="bound">x</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"actuallyF:1"</span> <span class="quoted">"Act-Basic:5"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"A-Exists:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">z</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="bound">z</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> act_a_num_G<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> act_a_num_actG<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Act-Basic:2"</span> <span class="quoted">"&amp;E"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> num_a_act_g<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-cont:2"</span><span class="main">[</span><span class="operator">unvarify</span> G<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"actuallyF:2"</span><span class="main">,</span>
                       <span class="operator">THEN</span> CBF<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"sc-eq-fur:2"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="free">x</span> <span class="main">=</span> <span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">y</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pre-Hume"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"eq-part:1"</span><span class="main">]</span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="free">x</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"RA[2]"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"act-cond"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"Act-Basic:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span>
            act_a_num_G <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-act:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">a</span> <span class="main">=</span> <span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span> num_a_act_g <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">a</span> <span class="main">=</span> <span class="free">x</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pre-Hume"</span><span class="main">[</span><span class="operator">unvarify</span> G H<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> num_a_act_g<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
            <span class="quoted">"eq-part:1"</span><span class="main">[</span><span class="operator">unvarify</span> F<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> act_a_num_G <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-num:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="skolem">x</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span> <span class="main">≡</span> <span class="bound">y</span> <span class="main">=</span> <span class="skolem">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">Numbers(</span><span class="bound">κ</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="main">«</span><span class="keyword1">Numbers(</span><span class="bound">κ</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"eq-num:1"</span> descriptions<span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">G</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span> <span class="main">≡</span> <span class="bound">y</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"num-def:2"</span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">G</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-def:1"</span> <span class="quoted">"num-uniq"</span> <span class="quoted">"rule-id-def:1"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span> <span class="main">≡</span> <span class="bound">y</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-num:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">#</span><span class="free">G</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">y</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">y</span><span class="main">]</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">G</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"rule=I:1"</span> <span class="quoted">"num-def:2"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-num:2"</span><span class="main">[</span><span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"num-def:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-num:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="main">#</span><span class="free">G</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">#</span><span class="free">G</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"eq-num:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> numbers<span class="main"><span class="main"><span class="main">[</span></span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                   <span class="quoted">"eq-num:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> numbers<span class="main"><span class="main"><span class="main">[</span></span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-num:5"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">G</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> act_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"eq-num:4"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"approx-nec:1"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"actuallyF:2"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-num:6"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> act_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigidifies(</span><span class="skolem">F</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"instantiation"</span> <span class="quoted">"rigid-der:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="skolem">F</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
          <span class="quoted">"df-rigid-rel:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">F</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">G</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span> <span class="quasi_keyword">elim</span><span class="main"><span class="main">:</span></span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="free">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-tran:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> θ <span class="quoted">"approx-nec:1"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-tran:1"</span><span class="main">[</span><span class="operator">unvarify</span> H<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">F</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-num:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span> <span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">F</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> card<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"eq-df-num"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="bound">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">P</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">P</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">P</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-num:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">P</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="bound">G</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="bound">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">Q</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="skolem">Q</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-num:6"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> card<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"card-en"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">F</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> GEN<span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> act_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span> <span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">F</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> card<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">P</span></span> <span class="keyword2"><span class="keyword">where</span></span> x_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">P</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> num_x_act_P<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">P</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-num:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="skolem">P</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">P</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-num:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">P</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> x_def<span class="main">[</span><span class="operator">symmetric</span><span class="main">]</span> <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-tran:1"</span><span class="main">[</span><span class="operator">unvarify</span> G H<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">]</span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-tran:2"</span><span class="main">[</span><span class="operator">unvarify</span> G H<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"≡I"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> num_x_act_P<span class="main">)</span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">F</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-num:2"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">F</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"0F"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> unotEu_act_ord<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">v</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">v</span>›</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">y</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">¬</span><span class="main">(</span><span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span>  <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">¬</span><span class="main">(</span><span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="skolem">y</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"Commutativity of ≡"</span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"¬¬I"</span> <span class="quoted">"Act-Sub:1"</span> <span class="quoted">"id-act2:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>4<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"ord-=Eequiv:1"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>

  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">y</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">y</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"zero:1"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"num-def:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"eq-num:3"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> numbers0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"num-tran:3"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x G H<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span> 4<span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">y</span><span class="main">]</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">y</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="keyword1">O!</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="skolem">u</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="keyword1">O!</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">»</span>›</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">O!</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"Act-Basic:2"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">(</span><span class="keyword1">O!</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Ordinary.ψ <span class="quoted">"&amp;I"</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"≡I"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"oa-facts:7"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">y</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">qed</span></span><span class="main">(</span><span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">qed</span></span><span class="main">(</span><span class="operator">fact</span> <span class="quoted">"zero:2"</span> <span class="main"><span class="keyword3">|</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> unotEu_act_ord<span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"empty-approx:1"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> H<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"num-tran:1"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x H<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="main">(</span><span class="operator">fact</span> <span class="quoted">"zero:2"</span> numbers0 <span class="main"><span class="keyword3">|</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"num-tran:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x H<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span> 2<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="main">(</span><span class="operator">fact</span> numbers0 <span class="quoted">"zero:2"</span> <span class="main"><span class="keyword3">|</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"empty-approx:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> H<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> 0<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
           <span class="main">(</span><span class="operator">rule</span> unotEu_act_ord<span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">(</span><span class="free">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="main">)</span>›</span></span> 
        <span class="keyword1"><span class="command">using</span></span> 1 <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_act_theorem</span></span> <span class="quoted">"zero=:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="bound">F</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span> GEN<span class="main">)</span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">F</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"card-en"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">F</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">y</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"num-def:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> 1 <span class="quoted">"num-uniq"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">y</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span>›</span></span> <span class="comment1">(* TODO: PLM: missing closing parenthesis *)</span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"y-in:1"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span> <span class="main">→</span> <span class="free">x</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">y</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span> <span class="main">→</span> <span class="bound">y</span> <span class="main">=</span> <span class="skolem">z</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"uniqueness:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span> <span class="main">→</span> <span class="bound">y</span> <span class="main">=</span> <span class="free">x</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> z_prop <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">y</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> hintikka<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound">y</span><span class="main">(</span><span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span><span class="main">)</span> <span class="main">≡</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>5<span class="main"><span class="main">)</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_act_theorem</span></span> <span class="quoted">"zero=:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">0</span><span class="main">[</span><span class="free">F</span><span class="main">]</span> <span class="main">≡</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span><span class="main">[</span><span class="free">F</span><span class="main">]</span> <span class="main">≡</span> <span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"zero=:1"</span><span class="main">[</span><span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero-card"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"0F"</span><span class="main">[</span><span class="operator">symmetric</span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span><span class="keyword1"><span class="command">.</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_act_theorem</span></span> <span class="quoted">"zero=:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">#</span><span class="free">F</span> <span class="main">=</span> <span class="main">0</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">0</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"zero=:2"</span><span class="main">[</span><span class="operator">symmetric</span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">0</span> <span class="main">=</span> <span class="main">#</span><span class="free">F</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"card-en"</span><span class="main">[</span><span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero-card"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">#</span><span class="free">F</span> <span class="main">=</span> <span class="main">0</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"deduction-theorem"</span> id_sym <span class="quoted">"≡I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span><span class="keyword1"><span class="command">.</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> Hereditary <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">Hereditary'(</span></span>_<span class="keyword1"><span class="keyword1">,</span></span>_<span class="keyword1"><span class="keyword1">')</span></span>›</span><span class="main">)</span>
  <span class="quoted">"hered:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Hereditary(</span><span class="free">F</span><span class="main">,</span> <span class="free">R</span><span class="main">)</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="free">F</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"hered:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">(</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="bound">F</span><span class="main">,</span><span class="free">R</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> StrongAncestral <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> Π›</span></span></span> <span class="main">(</span><span class="quoted">‹_<span class="keyword1"><span class="keyword1"><span class="hidden">⇧</span><sup>*</sup></span></span>›</span><span class="main">)</span>
  <span class="quoted">"ances-df"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="bound">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span> <span class="keyword1">=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">(</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="bound">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="bound">F</span><span class="main">,</span><span class="bound">R</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> ances<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">(</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="bound">F</span><span class="main">,</span><span class="free">R</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"ances-df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
   <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"hered:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>›</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"anc-her:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span> ances<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> GEN<span class="main">)</span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="skolem">F</span><span class="main">,</span> <span class="free">R</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"anc-her:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="free">F</span><span class="main">,</span><span class="free">R</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">y</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="main">(</span><span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="free">F</span><span class="main">,</span><span class="free">R</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> ances<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Hereditary(</span><span class="free">F</span><span class="main">,</span><span class="free">R</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→E"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"anc-her:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="free">F</span><span class="main">,</span> <span class="free">R</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">y</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="main">(</span><span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">x</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Hereditary(</span><span class="free">F</span><span class="main">,</span> <span class="free">R</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"hered:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">x</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">z</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 3 <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> 2 <span class="quoted">"anc-her:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"anc-her:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">y</span><span class="free">z</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">z</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">y</span><span class="free">z</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">z</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> ances<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"&amp;I"</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Hereditary(</span><span class="skolem">F</span><span class="main">,</span><span class="free">R</span><span class="main">)</span>›</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">z</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"anc-her:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> 1 2 0<span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"anc-her:5"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">z</span><span class="free">y</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">]</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"anc-her:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> 0<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span>
        <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span> <span class="quoted">"hered:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 0<span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1<span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">]</span><span class="skolem">z</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 1<span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> 0 1 <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">z</span><span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"anc-her:6"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">y</span><span class="free">z</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">z</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="skolem">F</span><span class="main">,</span><span class="free">R</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">y</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span>  ances<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">y</span><span class="free">z</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> ξ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="skolem">F</span><span class="main">,</span><span class="free">R</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">z</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> ances<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">z</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> ances<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> ζ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="skolem">F</span><span class="main">,</span><span class="free">R</span><span class="main">)</span>›</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">z</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> ξ<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Hereditary(</span><span class="skolem">F</span><span class="main">,</span><span class="free">R</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> ζ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">y</span><span class="skolem">z</span>›</span></span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> θ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> ζ<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">z</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> ζ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"hered:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span>
                  <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> OneToOne <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">1-1'(</span></span>_<span class="keyword1"><span class="keyword1">')</span></span>›</span><span class="main">)</span>
  <span class="quoted">"df-1-1:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">1-1(</span><span class="free">R</span><span class="main">)</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="free">R</span><span class="main">↓</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span> <span class="main">→</span> <span class="bound">x</span> <span class="main">=</span> <span class="bound">y</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> RigidOneToOne <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>'(</span></span>_<span class="keyword1"><span class="keyword1">')</span></span>›</span><span class="main">)</span>
  <span class="quoted">"df-1-1:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="free">R</span><span class="main">)</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">1-1(</span><span class="free">R</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Rigid(</span><span class="free">R</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"df-1-1:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="free">R</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">1-1(</span><span class="free">R</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="free">R</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">1-1(</span><span class="free">R</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> RigidR<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="free">R</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-1-1:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span> <span class="main">→</span> <span class="skolem">x</span> <span class="main">=</span> <span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-1-1:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span> <span class="main">→</span> <span class="main">□</span><span class="skolem">x</span> <span class="main">=</span> <span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="skolem"><span class="skolem">z</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="skolem">x</span> <span class="main">=</span> <span class="skolem">y</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">□</span><span class="skolem">x</span> <span class="main">=</span> <span class="skolem">y</span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> 1 <span class="quoted">"id-nec:2"</span> <span class="quoted">"≡I"</span> <span class="quoted">"qml:2"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...∀</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">OF</span> RigidR<span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...∀</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"CBF"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub></span><span class="bound">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub></span><span class="bound">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> tuple_forall<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"KBasic:3"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="skolem"><span class="skolem">z</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> RM<span class="main">)</span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"→I"</span> <span class="quoted">"KBasic:3"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span> <span class="main">→</span> <span class="skolem">x</span> <span class="main">=</span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"sc-eq-box-box:6"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> 2<span class="main">,</span> <span class="operator">OF</span> 1<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 4<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span> <span class="main">→</span> <span class="bound">x</span> <span class="main">=</span> <span class="bound">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN BF<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> 3<span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">1-1(</span><span class="free">R</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">1-1(</span><span class="free">R</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span> <span class="main">→</span> <span class="bound">x</span> <span class="main">=</span> <span class="bound">y</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-1-1:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡Df"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡S"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">]</span>
    <span class="keyword1"><span class="command">using</span></span> 4 <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"df-1-1:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">R</span><span class="main">(</span><span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="bound">R</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="bound">R</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
<span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">R</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="skolem">R</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span><span class="main">↓</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"df-1-1:1"</span> <span class="quoted">"df-1-1:2"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="skolem">R</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"exist-nec"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 4<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">1-1(</span><span class="skolem">R</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-1-1:3"</span><span class="main">[</span><span class="operator">unvarify</span> R<span class="main">,</span> <span class="operator">OF</span> 1<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="skolem">R</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">[</span><span class="operator">OF</span> <span class="quoted">"df-1-1:2"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...∀</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">(</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span>  <span class="quoted">"df-rigid-rel:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 5<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">□</span><span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...∀</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">(</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"S5Basic:6"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 6<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1">Rigid(</span><span class="skolem">R</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_using</span> <span class="quasi_keyword">subst</span><span class="main"><span class="main">:</span></span> <span class="quoted">"df-rigid-rel:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡Df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">using</span></span> 2 5 <span class="quoted">"KBasic:3"</span> <span class="quoted">"≡S"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="skolem">R</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_using</span> <span class="quasi_keyword">subst</span><span class="main"><span class="main">:</span></span> <span class="quoted">"df-1-1:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡Df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">using</span></span> 4 6 <span class="quoted">"KBasic:3"</span> <span class="quoted">"≡S"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">AOT_define</span></span> InDomainOf <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> τ <span class="main"><span class="main">⇒</span></span> φ›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">InDomainOf'(</span></span>_<span class="keyword1"><span class="keyword1">,</span></span>_<span class="keyword1"><span class="keyword1">')</span></span>›</span><span class="main">)</span>
  <span class="quoted">"df-1-1:5"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span> <span class="free">R</span><span class="main">)</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">R</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span>›</span></span>

<span class="keyword1"><span class="command">AOT_register_rigid_restricted_type</span></span>
  RigidOneToOneRelation<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="free">Π</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">α</span> <span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="bound">α</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="keyword1">(=<span class="hidden">⇩</span><sub>E</sub>)</span><span class="main">»</span>›</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="keyword1">(=<span class="hidden">⇩</span><sub>E</sub>)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"df-1-1:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"df-1-1:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span> <span class="quoted">"df-rigid-rel:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"=E[denotes]"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span> <span class="skolem">z</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">z</span> <span class="main">&amp;</span> <span class="skolem">y</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">z</span>›</span></span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="main">=</span> <span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"rule=E"</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"Conjunction Simplification"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"=E-simple:2"</span> id_sym <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span> <span class="main">□</span><span class="main">(</span><span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span> <span class="main">→</span> <span class="main">□</span><span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> GEN<span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span> <span class="main">→</span> <span class="main">□</span><span class="skolem">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> RN <span class="quoted">"deduction-theorem"</span> <span class="quoted">"id-nec3:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...∀</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="keyword1">(=<span class="hidden">⇩</span><sub>E</sub>)</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="keyword1">(=<span class="hidden">⇩</span><sub>E</sub>)</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> tuple_forall<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...∀</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">(</span><span class="main">[</span><span class="keyword1">(=<span class="hidden">⇩</span><sub>E</sub>)</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="keyword1">(=<span class="hidden">⇩</span><sub>E</sub>)</span><span class="main">]</span><span class="bound">x<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>x<span class="hidden">⇩</span><sub>n</sub></span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> BF<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">qed</span></span><span class="main">(</span><span class="operator">fact</span> <span class="quoted">"=E[denotes]"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="skolem">Π</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">Π</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">Π</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="skolem">Π</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">1-1(</span><span class="skolem">Π</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-1-1:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">Π</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-1-1:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="skolem">Π</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="skolem">Π</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">Π</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-1-1:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> 1<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"→I"</span> RN <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">AOT_register_variable_names</span></span>
  RigidOneToOneRelation<span class="main">:</span> ℛ 𝒮

<span class="keyword1"><span class="command">AOT_define</span></span> IdentityRestrictedToDomain <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> Π›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">'(=⇩</span></span>_<span class="keyword1"><span class="keyword1">')</span></span>›</span><span class="main">)</span>
  <span class="quoted">"id-d-R"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(=⇩</span><span class="bound">ℛ</span><span class="main">)</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="bound">ℛ</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="bound">ℛ</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span><span class="main">)</span><span class="main">]</span>›</span></span>

<span class="keyword1"><span class="command">syntax</span></span> <span class="quoted">"_AOT_id_d_R_infix"</span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹τ <span class="main">⇒</span> τ <span class="main">⇒</span> τ <span class="main">⇒</span> φ›</span></span> <span class="main">(</span><span class="quoted">"<span class="keyword3">(</span>_ <span class="keyword1">=⇩</span>_<span class="keyword3">/ </span>_<span class="keyword3">)</span>"</span> <span class="main">[</span>50<span class="main">,</span> 51<span class="main">,</span> 51<span class="main">]</span> 50<span class="main">)</span>
<span class="keyword1"><span class="command">translations</span></span>
  <span class="quoted">"_AOT_id_d_R_infix <span class="free">κ</span> <span class="free">Π</span> <span class="free">κ'</span>"</span> <span class="main">==</span> <span class="quoted">"<span class="keyword1">CONST</span> AOT_exe <span class="main">(</span><span class="keyword1">CONST</span> IdentityRestrictedToDomain <span class="free">Π</span><span class="main">)</span> <span class="main">(</span><span class="free">κ</span><span class="main">,</span><span class="free">κ'</span><span class="main">)</span>"</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"id-R-thm:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">≡</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"id-d-R"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> 0<span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>›</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"id-R-thm:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">→</span> <span class="main">(</span><span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">InDomainOf(</span><span class="free">y</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">InDomainOf(</span><span class="free">y</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"df-1-1:5"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> z_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"∃I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> z_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"∃I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"id-R-thm:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">→</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-1-1:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> RigidOneToOneRelation.ψ<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"qml:2"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span>
                     <span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"df-1-1:1"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span>
                     <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span>
     <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"id-R-thm:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span> <span class="main">∨</span> <span class="keyword1">InDomainOf(</span><span class="free">y</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span> <span class="main">∨</span> <span class="keyword1">InDomainOf(</span><span class="free">y</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span> <span class="quoted">"df-1-1:5"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="quoted">"id-R-thm:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> z_prop <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> z_prop <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:1"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">y</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span> <span class="quoted">"df-1-1:5"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="quoted">"id-R-thm:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> z_prop <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> z_prop <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:1"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"id-R-thm:5"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span> <span class="main">→</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">x</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span> <span class="quoted">"df-1-1:5"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> z_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:1"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"id-R-thm:6"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">→</span> <span class="free">y</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">x</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">InDomainOf(</span><span class="free">y</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=</span> <span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">x</span> <span class="main">≡</span> <span class="free">y</span> <span class="main">=</span> <span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> 1 <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"id-R-thm:7"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">&amp;</span> <span class="free">y</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span> <span class="main">→</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">InDomainOf(</span><span class="free">y</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> x_eq_y<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">y</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">InDomainOf(</span><span class="free">z</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span> <span class="main">≡</span> <span class="free">y</span> <span class="main">=</span> <span class="free">z</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=</span> <span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> x_eq_z<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> x_eq_y id_trans <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">InDomainOf(</span><span class="free">z</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 3 <span class="quoted">"&amp;I"</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span> <span class="main">≡</span> <span class="free">x</span> <span class="main">=</span> <span class="free">z</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> x_eq_z <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> WeakAncestral <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹Π <span class="main"><span class="main">⇒</span></span> Π›</span></span></span> <span class="main">(</span><span class="quoted">‹_<span class="keyword1"><span class="keyword1"><span class="hidden">⇧</span><sup>+</sup></span></span>›</span><span class="main">)</span>
  <span class="quoted">"w-ances-df"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="bound">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span> <span class="keyword1">=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="bound">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="bound">x</span><span class="bound">y</span> <span class="main">∨</span> <span class="bound">x</span> <span class="main">=⇩</span><span class="bound">ℛ</span> <span class="bound">y</span><span class="main">]</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"w-ances-df[den1]"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="free">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="bound">x</span><span class="bound">y</span> <span class="main">∨</span> <span class="bound">x</span> <span class="main">=⇩</span><span class="free">Π</span> <span class="bound">y</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"w-ances-df[den2]"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">Π</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances-df[den1]"</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main">(</span>1<span class="main">)</span><span class="main">[</span><span class="operator">OF</span> <span class="quoted">"w-ances-df"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"w-ances"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">≡</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∨</span> <span class="bound">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="bound">y</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="comment1">(* TODO: try to prevent 1 and 2 from being needed *)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">(</span>AOT_term_of_var <span class="free">x</span><span class="main">,</span>AOT_term_of_var <span class="free">y</span><span class="main">)</span><span class="main">»</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">have</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">μ<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>μ<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="bound">μ<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>μ<span class="hidden">⇩</span><sub>n</sub></span> <span class="main">∨</span> <span class="main">[</span><span class="main">(=⇩</span><span class="free">ℛ</span><span class="main">)</span><span class="main">]</span><span class="bound">μ<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>μ<span class="hidden">⇩</span><sub>n</sub></span><span class="main">]</span><span class="free">x</span><span class="free">y</span><span class="main">»</span> <span class="main">=</span> <span class="main">«</span><span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∨</span> <span class="main">[</span><span class="main">(=⇩</span><span class="free">ℛ</span><span class="main">)</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span><span class="main">]</span><span class="free">x</span><span class="free">y</span><span class="main">»</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cond_case_prod_eta<span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"w-ances-df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">fact</span> <span class="quoted">"w-ances-df[den1]"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"beta-C-meta"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main">,</span> <span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main">,</span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main">=</span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>›</span></span><span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">OF</span> 1<span class="main">]</span> 2 <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"w-ances-her:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"anc-her:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"∨I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"w-ances-her:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="free">F</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">y</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="main">(</span><span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">x</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Hereditary(</span><span class="free">F</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">y</span>›</span></span>  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"anc-her:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span> 0 1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"w-ances-her:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="free">z</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> Ryz<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="free">z</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> R_star_xy<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> ances<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"→I"</span> GEN<span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="skolem">F</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">y</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> R_star_xy ances<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> R_star_xy<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">z</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"hered:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
              <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> Ryz <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Ryz <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"anc-her:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"w-ances-her:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="free">z</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">z</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∨I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">y</span><span class="free">z</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances-her:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∨I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"w-ances-her:5"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">y</span><span class="free">z</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">y</span><span class="free">z</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">y</span><span class="free">z</span> <span class="main">∨</span> <span class="free">y</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"w-ances"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">y</span><span class="free">z</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"anc-her:4"</span> Adjunction <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=</span> <span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-R-thm:3"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"anc-her:1"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"w-ances-her:6"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">y</span><span class="free">z</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">z</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"w-ances"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">y</span><span class="free">z</span>›</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-R-thm:3"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span><span class="main">)</span> 
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">y</span><span class="free">z</span> <span class="main">∨</span> <span class="free">y</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"w-ances"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">y</span><span class="free">z</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 3 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"anc-her:6"</span> Adjunction <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"w-ances"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">z</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=</span> <span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-R-thm:3"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"w-ances-her:7"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">z</span><span class="free">y</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="skolem">Π</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="free">y</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">Π</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">Π</span></span>
    <span class="keyword1"><span class="command">using</span></span> ances<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main">]</span> that <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">z</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> 1<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">?</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span> <span class="quoted">"hered:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span> <span class="free">ℛ</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span> <span class="quoted">"df-1-1:5"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-R-thm:5"</span> <span class="quoted">"→E"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"w-ances"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">y</span><span class="skolem">z</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">z</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span><span class="skolem">z</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 1<span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x'</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> Rx'y<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="skolem">x'</span><span class="skolem">y</span>›</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">z</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span><span class="skolem">x'</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">z</span><span class="skolem">x'</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">c</span></span> <span class="keyword2"><span class="keyword">where</span></span> c_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="skolem">c</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="skolem">c</span><span class="skolem">x'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="skolem">x'</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> Rx'y <span class="quoted">"anc-her:1"</span> <span class="quoted">"anc-her:6"</span> Adjunction <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"w-ances-her:3"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="skolem">x'</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="skolem">x'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∨I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="skolem">x'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"w-ances"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="skolem">x'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="skolem">x'</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Rx'y <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">z</span><span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">z</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 1<span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span><span class="main">(</span><span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">z</span><span class="free">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"1-1-R:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">z</span><span class="free">y</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="free">x</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">z</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">x</span><span class="free">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances-her:7"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="skolem">a</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-1-1:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">OF</span> RigidOneToOneRelation.ψ<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"df-1-1:1"</span><span class="main"><span class="main">]</span></span><span class="main">,</span>
                   <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span>
    <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> a_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"1-1-R:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="main">(</span><span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">x</span> <span class="main">→</span> <span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">y</span><span class="free">y</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"useful-tautologies:5"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">y</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">y</span><span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"1-1-R:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"vdash-properties:10"</span> <span class="quoted">"w-ances-her:5"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"1-1-R:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">x</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">y</span><span class="free">y</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="bound">z</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">x</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="bound">z</span><span class="bound">z</span><span class="main">]</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"w-ances-her:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> 0<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span>
        <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"hered:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span>  <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="bound">z</span><span class="bound">z</span><span class="main">]</span><span class="free">x</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> 1 <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 2<span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="bound">z</span><span class="bound">z</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="skolem">x</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="skolem">y</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"1-1-R:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="bound">z</span><span class="bound">z</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 1<span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span><span class="main">(</span><span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">y</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"1-1-R:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"df-1-1:5"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span><span class="main">]</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"anc-her:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> 0<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span>
         <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"hered:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">z</span>›</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span><span class="main">]</span><span class="skolem">z</span>›</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"0"</span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"existential:2[const_var]"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x'</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> Rx'y<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="skolem">x'</span><span class="skolem">y</span>›</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span><span class="main">]</span><span class="skolem">x'</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="skolem">x'</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="skolem">y</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="skolem">x'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Rx'y <span class="quoted">"&amp;I"</span> <span class="quoted">"1-1-R:1"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="skolem">x'</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="skolem">x'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"w-ances"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="skolem">x'</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"→E"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="skolem">x'</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="skolem">x'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-R-thm:3"</span> <span class="quoted">"→E"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Rx'y <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 1<span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span><span class="main">(</span><span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="free">x</span><span class="bound">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"1-1-R:5"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"w-ances"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"1-1-R:4"</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="free">ℛ</span> <span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Conjunction Simplification"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"id-R-thm:2"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">InDomainOf(</span><span class="free">x</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pre-ind"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">z</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">y</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">x</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span> GEN<span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">y</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">z</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">(</span><span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">y</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="skolem">x</span>›</span></span>

  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">y</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"w-ances-her:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> den<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">y</span><span class="main">]</span><span class="free">z</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="free">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> θ <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="free">z</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"w-ances"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
           <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"0"</span> <span class="quoted">"id-R-thm:5"</span> <span class="quoted">"1-1-R:5"</span> <span class="quoted">"→E"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Hereditary(</span><span class="main">[λ</span><span class="bound">y</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">y</span><span class="main">]</span><span class="main">,</span><span class="free">ℛ</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"hered:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x'</span> <span class="skolem">y</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="skolem">x'</span><span class="skolem">y</span>›</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">y</span><span class="main">]</span><span class="skolem">x'</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="skolem">x'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">z</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 2<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Adjunction <span class="quoted">"modus-tollens:1"</span> <span class="quoted">"reductio-aa:1"</span> <span class="quoted">"w-ances-her:3"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"w-ances"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="bound">y</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> 3<span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> θ<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="skolem">x'</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">z</span><span class="skolem">y</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> 2 3 <span class="quoted">"&amp;E"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">ℛ</span><span class="main">]</span><span class="skolem">x'</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">qed</span></span><span class="main">(</span><span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> denotes_all<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> nec_indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span> 
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"ind-nec"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> indist_nec<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"CBF"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span> RN <span class="quoted">"≡I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> Ax<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"encoders-are-abstract"</span> <span class="quoted">"existential:2[const_var]"</span> <span class="quoted">"→E"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> Ay<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> indist <span class="quoted">"∀E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"oa-exist:2"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> indistinguishable_ord_enc_all<span class="main">[</span><span class="operator">axiom_inst</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span>
            <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> Ax<span class="main">,</span> <span class="operator">OF</span> Ay<span class="main">,</span> <span class="operator">OF</span> indist_nec<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> calculation <span class="quoted">"cqt-basic:11"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> RN GEN <span class="quoted">"→I"</span> 1 <span class="quoted">"kirchner-thm:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> denotes_ex<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> nec_indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span> 
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"ind-nec"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> indist_nec<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"CBF"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> Ax<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"encoders-are-abstract"</span> <span class="quoted">"existential:2[const_var]"</span> <span class="quoted">"→E"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> Ay<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> indist <span class="quoted">"∀E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"oa-exist:2"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> indistinguishable_ord_enc_ex<span class="main">[</span><span class="operator">axiom_inst</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> Ax<span class="main">,</span>
          <span class="operator">OF</span> Ay<span class="main">,</span> <span class="operator">OF</span> indist_nec<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> calculation <span class="quoted">"cqt-basic:11"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∃</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> RN GEN <span class="quoted">"→I"</span> 1 <span class="quoted">"kirchner-thm:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> numbers_prop_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span> 
  <span class="keyword1"><span class="command">AOT_have</span></span> act_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> act_beta<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="skolem"><span class="skolem">u</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"ind-nec"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">→</span> <span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span>›</span></span>

      <span class="keyword1"><span class="command">AOT_hence</span></span> x_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">A!</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"numbers[den]"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> Ax<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> x_enc_cond<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">G</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∀E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> Ay<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> indist Ax <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"oa-exist:2"</span> <span class="quoted">"rule-ui:1"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> G_act_equinum_F<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> x_enc_cond<span class="main">)</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">H</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Ordinary.res-var-bound-reas[BF]"</span> <span class="quoted">"→E"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"nec-imp-act"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Ordinary.res-var-bound-reas[3]"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
            <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"Ordinary.∀E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Act-Basic:5"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
              <span class="keyword1"><span class="command">using</span></span> act_beta <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"≡I"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
               <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> act_den Ordinary.GEN <span class="quoted">"→I"</span> 1<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"apE-eqE:1"</span><span class="main">[</span><span class="operator">unvarify</span> F G<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">,</span> <span class="operator">OF</span> act_den<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> G_act_equinum_F <span class="quoted">"eq-part:3[terms]"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> x_enc_cond<span class="main">)</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">H</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">H</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">x</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">H</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> denotes_all<span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 0<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">H</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> indist<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> denotes_all<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">H</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN <span class="quoted">"→I"</span> RN <span class="quoted">"≡I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> yG<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">H</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="skolem">G</span>›</span></span><span class="main"><span class="main">]</span></span> yG <span class="quoted">"&amp;I"</span> <span class="quoted">"→I"</span> GEN RN <span class="quoted">"≡I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">H</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="bound">y</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> denotes_ex<span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 0<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">H</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="bound">y</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> indist<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> denotes_ex<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">H</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">x</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">H</span></span> <span class="keyword2"><span class="keyword">where</span></span> H_eq_G<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> x_enc_H<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> actH_equinum_F<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> x_enc_H x_enc_cond <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> H_eq_G <span class="quoted">"Ordinary.res-var-bound-reas[BF]"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"nec-imp-act"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Ordinary.res-var-bound-reas[3]"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword1"><span class="command">using</span></span> that <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Act-Basic:5"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> that<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> act_beta <span class="quoted">"deduction-theorem"</span> <span class="quoted">"≡I"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> that<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span>›</span></span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"apE-eqE:1"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F G<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> act_den<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> act_den<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> act_den Ordinary.GEN Ordinary.ψ <span class="quoted">"→I"</span> 0<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> actH_equinum_F <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"eq-part:2[terms]"</span> <span class="quoted">"eq-part:3[terms]"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">G</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"≡I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">F</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Ay <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 0<span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v</span> <span class="keyword2"><span class="keyword">and</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> calculation <span class="quoted">"cqt-basic:11"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span> <span class="main">≡</span> <span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span> <span class="free">F</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"≡I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="free">F</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"kirchner-thm:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> RN<span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> pred<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> prod_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">«</span><span class="main">(</span>AOT_term_of_var <span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span>AOT_term_of_var <span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">»</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span></span> <span class="skolem"><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹κ AOT_var›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> proj1_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> proj2_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">y</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> act_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> act_beta<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="skolem"><span class="skolem">u</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span> <span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span> <span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹ <span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="skolem">ψ</span><span class="main">{</span><span class="main">[λ</span><span class="bound">μ<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>μ<span class="hidden">⇩</span><sub>n</sub></span> <span class="skolem">φ</span><span class="main">{</span><span class="bound">μ<span class="hidden">⇩</span><sub>1</sub><span class="main">...</span>μ<span class="hidden">⇩</span><sub>n</sub></span><span class="main">}</span><span class="main">]</span><span class="main">}</span> <span class="main">≡</span> <span class="skolem">ψ</span><span class="main">{</span><span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="skolem">φ</span><span class="main">{</span><span class="main">«</span><span class="main">(</span><span class="bound">x</span><span class="main">,</span><span class="bound">y</span><span class="main">)</span><span class="main">»</span><span class="main">}</span><span class="main">]</span><span class="main">}</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">φ</span></span> <span class="skolem"><span class="skolem">ψ</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> xy1_eq<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> proj1_den<span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>›</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> prod_den<span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> proj1_den<span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>›</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> prod_den<span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"0"</span> proj1_den <span class="quoted">"rule-ui:1"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> xy2_eq<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">y</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> proj2_den<span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>›</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> prod_den<span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">y</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">»</span>›</span></span><span class="main">)</span>
       <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> proj2_den<span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>›</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> prod_den<span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"0"</span> proj2_den <span class="quoted">"rule-ui:1"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>

    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">∃</span><span class="bound">F</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span>
              <span class="main">(</span><span class="main">∃</span><span class="bound">F</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> Fu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
            <span class="keyword2"><span class="keyword">and</span></span> numbers_x2_F<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span>›</span></span>
            <span class="keyword2"><span class="keyword">and</span></span> numbers_x1_F_minus_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>

      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> numbers_prop_den<span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> numbers_x2_F<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> xy2_eq<span class="main">[</span><span class="operator">unvarify</span> F<span class="main">,</span> <span class="operator">OF</span> numbers_prop_den<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> numbers_y2_F<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted">"F-u[den]"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">↓</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> numbers numbers_x1_F_minus_u <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> numbers_prop_den<span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"F-u[den]"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> numbers_x1_F_minus_u<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> xy1_eq<span class="main">[</span><span class="operator">unvarify</span> F<span class="main">,</span> <span class="operator">OF</span> numbers_prop_den<span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"F-u[den]"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> numbers_y_1_F_minus_u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>

      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">F</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">u</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Fu numbers_y2_F numbers_y_1_F_minus_u<span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span> <span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span> <span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> calculation <span class="quoted">"cqt-basic:11"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span> <span class="main">≡</span>
                         <span class="main">∃</span><span class="bound">F</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y<span class="hidden">⇩</span><sub>2</sub></span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"≡I"</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"kirchner-thm:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> RN<span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> tuple_forall<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> tuple_forall<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> Predecessor <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">𝒫</span></span>›</span><span class="main">)</span>
  <span class="quoted">"pred-thm:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">𝒫</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">y</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span><span class="main">]</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pred-thm:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">𝒫</span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">using</span></span> pred <span class="quoted">"pred-thm:1"</span> <span class="quoted">"rule-id-def:2:b[zero]"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pred-thm:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">≡</span> <span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> prod_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">«</span><span class="main">(</span>AOT_term_of_var <span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span>AOT_term_of_var <span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">»</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span></span> <span class="skolem"><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹κ AOT_var›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"pred-thm:1"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> pred<span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> prod_den<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> pred<span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>


<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pred-1-1:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"pred-thm:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> props<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
  <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword2"><span class="keyword">where</span></span> Ridigifies_G_F<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigidifies(</span><span class="skolem">G</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"instantiation"</span> <span class="quoted">"rigid-der:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> ξ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> ζ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"df-rigid-rel:1"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
          <span class="quoted">"df-rigid-rel:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>

  <span class="keyword1"><span class="command">AOT_have</span></span> rigid_num_nec<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Rigidifies(</span><span class="skolem">G</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">G</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="skolem"><span class="skolem">F</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span> <span class="skolem">F</span> <span class="skolem">x</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> Numbers_xF<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span>›</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigidifies(</span><span class="skolem">G</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> ξ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="skolem">G</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> ζ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"df-rigid-rel:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="skolem">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span>
          <span class="quoted">"num-cont:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> ξ<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"qml:2"</span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="operator">axiom_inst</span><span class="main"><span class="main"><span class="main">,</span></span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span>
          <span class="quoted">"num-tran:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Numbers_xF<span class="main"><span class="main">]</span></span>
          eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span>
            <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span>
        <span class="keyword1"><span class="command">using</span></span> ζ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span> 
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="skolem">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> rigid_num_nec<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> props<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> Ridigifies_G_F<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigidifies(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">,</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"df-rigid-rel:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"df-rigid-rel:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"F-u[den]"</span> GEN <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> RM<span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span> GEN<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"F-u"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="hidden">⇩</span><sub>1</sub>τ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
             <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"id-nec4:1"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">»</span>›</span></span><span class="main">)</span>
             <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"F-u"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="hidden">⇩</span><sub>1</sub>τ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
              <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
             <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
            <span class="keyword1"><span class="command">using</span></span> 2 3 <span class="quoted">"KBasic:3"</span> <span class="quoted">"≡S"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> ξ <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"F-u"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="hidden">⇩</span><sub>1</sub>τ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> ζ <span class="quoted">"&amp;I"</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"rule-ui:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 2<span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"F-u"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="hidden">⇩</span><sub>1</sub>τ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> 3<span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"F-u"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="hidden">⇩</span><sub>1</sub>τ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="skolem">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> ζ <span class="quoted">"&amp;I"</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"rule-ui:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 2<span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"F-u"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="hidden">⇩</span><sub>1</sub>τ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> 3<span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> rigid_num_nec<span class="main">[</span><span class="operator">unvarify</span> F G<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"F-u[den]"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"F-u[den]"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span>
              <span class="operator">OF</span> props<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> props<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> ζ<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
          ξ<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"qml:2"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="skolem">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"KBasic:3"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="skolem">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"Ordinary.∃I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="skolem">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.res-var-bound-reas[Buridan]"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span> <span class="main">□</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> Buridan <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">y</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"pred-thm:3"</span> 0<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pred-1-1:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="keyword1">𝒫</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"df-rigid-rel:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"pred-thm:2"</span> <span class="quoted">"&amp;I"</span> RN tuple_forall<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span>
      <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN <span class="quoted">"pred-1-1:1"</span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pred-1-1:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">1-1(</span><span class="keyword1">𝒫</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"df-1-1:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"pred-thm:2"</span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span> <span class="skolem">z</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">z</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">z</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-thm:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> u_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">y</span><span class="skolem">z</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">z</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-thm:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">v</span></span> <span class="keyword2"><span class="keyword">where</span></span> v_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">z</span><span class="main">,</span><span class="skolem">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="main">=</span> <span class="skolem">y</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"pre-Hume"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G H<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"F-u[den]"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"F-u[den]"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> u_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> v_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> u_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">using</span></span> v_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-tran:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">v</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> u_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">using</span></span> v_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span>
      <span class="keyword1"><span class="command">using</span></span> eqP'<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pred-1-1:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid<span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>(</span><span class="keyword1">𝒫</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"df-1-1:2"</span> <span class="quoted">"pred-1-1:2"</span> <span class="quoted">"pred-1-1:3"</span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"assume-anc:1"</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span> <span class="main">=</span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">(</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="bound">F</span><span class="main">,</span><span class="keyword1">𝒫</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span>›</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"ances-df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
   <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"assume-anc:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">𝒫</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"t=t-proper:1"</span> <span class="quoted">"assume-anc:1"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"assume-anc:3"</span><span class="main">:</span>
  <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">(</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x'</span><span class="main">∀</span><span class="bound">y'</span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x'</span><span class="bound">y'</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">x'</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y'</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> prod_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">«</span><span class="main">(</span>AOT_term_of_var <span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span>AOT_term_of_var <span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">»</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span></span> <span class="skolem"><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹κ AOT_var›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">(</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="bound">F</span><span class="main">,</span><span class="keyword1">𝒫</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">(</span><span class="main">∀</span><span class="bound">z</span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Hereditary(</span><span class="bound">F</span><span class="main">,</span><span class="keyword1">𝒫</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"assume-anc:1"</span><span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> prod_den<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> den<span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">Π</span> <span class="main">.</span> <span class="main">«</span><span class="keyword1">Hereditary(</span><span class="bound">Π</span><span class="main">,</span><span class="keyword1">𝒫</span><span class="main">)</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">λ</span> <span class="bound">Π</span><span class="main">.</span> <span class="main">«</span><span class="main">∀</span><span class="bound">x'</span><span class="main">∀</span><span class="bound">y'</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x'</span><span class="bound">y'</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="bound">Π</span><span class="main">]</span><span class="bound">x'</span> <span class="main">→</span> <span class="main">[</span><span class="bound">Π</span><span class="main">]</span><span class="bound">y'</span><span class="main">)</span><span class="main">)</span><span class="main">»</span>›</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"hered:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡Df"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡S"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"no-pred-0:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span> <span class="main">0</span>›</span></span> <span class="comment1">(* TODO: unfortunate syntactically required space *)</span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span> <span class="main">0</span>›</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">a</span> <span class="main">0</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-thm:3"</span><span class="main">[</span><span class="operator">unvarify</span> y<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> num0_F<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="skolem">F</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> num0_F
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"0F"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"no-pred-0:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="bound">x</span> <span class="main">0</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="bound">x</span> <span class="main">0</span>›</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="skolem">a</span> <span class="main">0</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">z</span> <span class="main">0</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"anc-her:5"</span><span class="main">[</span><span class="operator">unvarify</span> R y<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">z</span> <span class="main">0</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound">z</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">z</span> <span class="main">0</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"no-pred-0:1"</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"no-pred-0:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="main">0</span> <span class="main">0</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"existential:1"</span> <span class="quoted">"no-pred-0:2"</span> <span class="quoted">"reductio-aa:1"</span> <span class="quoted">"zero:2"</span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"assume1:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(=⇩</span><span class="keyword1">𝒫</span><span class="main">)</span> <span class="main">=</span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span><span class="main">)</span><span class="main">]</span>›</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"id-d-R"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
   <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"assume1:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="free">y</span> <span class="main">≡</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"assume1:1"</span><span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> prod_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">«</span><span class="main">(</span>AOT_term_of_var <span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span>AOT_term_of_var <span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">»</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span></span> <span class="skolem"><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹κ AOT_var›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">y</span><span class="bound">z</span><span class="main">)</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">≡</span> <span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">y</span><span class="bound">z</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"beta-C-meta"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> 1<span class="main">,</span> <span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main">,</span> <span class="operator">OF</span> prod_den<span class="main">,</span> <span class="operator">simplified</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"assume1:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span> <span class="main">=</span> <span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="bound">x</span><span class="bound">y</span> <span class="main">∨</span> <span class="bound">x</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="bound">y</span><span class="main">]</span>›</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"w-ances-df"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
   <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"w-ances-df[den1]"</span><span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"assume1:1"</span><span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"id-d-R"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
   <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"assume1:4"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances-df[den2]"</span><span class="keyword1"><span class="command">.</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"assume1:5"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">≡</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">x</span><span class="free">y</span> <span class="main">∨</span> <span class="free">x</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="free">y</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span><span class="bound">y</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="bound">x</span><span class="bound">y</span> <span class="main">∨</span> <span class="bound">x</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="bound">y</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> prod_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">«</span><span class="main">(</span>AOT_term_of_var <span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span><span class="main">,</span>AOT_term_of_var <span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span><span class="main">)</span><span class="main">»</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x<span class="hidden">⇩</span><sub>1</sub></span></span> <span class="skolem"><span class="skolem">x<span class="hidden">⇩</span><sub>2</sub></span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹κ AOT_var›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"ex:1:a"</span> prod_denotesI <span class="quoted">"rule-ui:3"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"assume1:3"</span><span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"beta-C-meta"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main">,</span> <span class="operator">unvarify</span> ν<span class="hidden">⇩</span><sub>1</sub>ν<span class="hidden">⇩</span><sub>n</sub><span class="main">,</span> <span class="operator">OF</span> prod_den<span class="main">,</span> <span class="operator">simplified</span><span class="main">,</span> <span class="operator">of</span> <span class="quoted"><span class="free">x</span></span> <span class="quoted"><span class="free">y</span></span><span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> cond_case_prod_eta<span class="main">)</span> <span class="comment1">(* TODO: try to avoid this *)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> NaturalNumber <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ›</span></span></span> <span class="main">(</span><span class="quoted">‹<span class="keyword1"><span class="keyword1">ℕ</span></span>›</span><span class="main">)</span>
  <span class="quoted">"nnumber:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">ℕ</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">0</span><span class="bound">x</span><span class="main">]</span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"nnumber:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">ℕ</span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"nnumber:1"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"nnumber:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span> <span class="main">≡</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">0</span><span class="free">x</span>›</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"nnumber:1"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
   <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"0-n"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="main">0</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"nnumber:3"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
    <span class="quoted">"assume1:5"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x y<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
    <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"assume1:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x y<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num:1"</span><span class="main">[</span><span class="operator">unvarify</span> G<span class="main">,</span> <span class="operator">OF</span> den<span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main">0</span><span class="skolem">a</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"pred-thm:3"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span>
                      <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="main">»</span>›</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"Ordinary.∃I"</span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">u</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> den
                      <span class="quoted">"0F"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"F-u[den]"</span><span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> den<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span>
          <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Ordinary.ψ<span class="main"><span class="main">]</span></span> Ordinary.ψ<span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> a_prop<span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="bound">v</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span> <span class="main">[</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="bound">v</span>›</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">v</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">]</span><span class="skolem">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="bound">z</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"F-u"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="hidden">⇩</span><sub>1</sub>τ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">]</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="skolem">v</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"β→C"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">(</span><span class="skolem">v</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>4<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main">0</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main">0</span><span class="bound">z</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">a</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"mod-col-num:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> nec0N<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="main">0</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"zero:2"</span> RN <span class="quoted">"0-n"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="main">0</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="bound">y</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span><span class="bound">y</span> <span class="main">→</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="bound">x</span> <span class="main">→</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"pre-ind"</span><span class="main"><span class="main">[</span></span><span class="operator">unconstrain</span> ℛ<span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> β<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"pred-1-1:4"</span><span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> z<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> F<span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="bound">x</span> <span class="main">→</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> 1<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span> nec0N<span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"pred-1-1:1"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"0"</span> <span class="quoted">"KBasic:3"</span> Adjunction <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> RM<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"nnumber:3"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"nnumber:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"assume1:5"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"w-ances-her:3"</span><span class="main"><span class="main">[</span></span><span class="operator">unconstrain</span> ℛ<span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> β<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"pred-1-1:4"</span><span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> x<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
           <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">fact</span> 1<span class="main">)</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> 0<span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span> 
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 0<span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="free">x</span> <span class="main">→</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"nnumber:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"mod-col-num:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Rigid(</span><span class="main">ℕ</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"df-rigid-rel:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> RN GEN <span class="quoted">"mod-col-num:1"</span> <span class="quoted">"nnumber:2"</span><span class="main">)</span>

<span class="keyword1"><span class="command">AOT_register_rigid_restricted_type</span></span>
  Number<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">κ</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">0</span><span class="main">»</span>›</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"0-n"</span> <span class="quoted">"zero:2"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">κ</span> <span class="main">→</span> <span class="skolem">κ</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">κ</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"russell-axiom[exe,1].ψ_denotes_asm"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span> <span class="main">→</span> <span class="main">□</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> RN <span class="quoted">"mod-col-num:1"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">AOT_register_variable_names</span></span>
  Number<span class="main">:</span> m n k i j

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"0-pred"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">n</span></span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">n</span> <span class="main">0</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">n</span></span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">n</span> <span class="main">0</span>›</span></span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">n</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">n</span> <span class="main">0</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Number.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span> <span class="main">0</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∃I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span> <span class="main">0</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span> <span class="main">0</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"no-pred-0:1"</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"no-same-succ"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">n</span></span><span class="main">∀</span><span class="bound"><span class="bound">m</span></span><span class="main">∀</span><span class="bound"><span class="bound">k</span></span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">n</span><span class="bound">k</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">m</span><span class="bound">k</span> <span class="main">→</span> <span class="bound">n</span> <span class="main">=</span> <span class="bound">m</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> Number.GEN <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">n</span> <span class="skolem">m</span> <span class="skolem">k</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">n</span><span class="skolem">k</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">m</span><span class="skolem">k</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">n</span> <span class="main">=</span> <span class="skolem">m</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"df-1-1:3"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> R<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main"><span class="main">,</span></span>
          <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"pred-1-1:4"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"qml:2"</span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="operator">axiom_inst</span><span class="main"><span class="main"><span class="main">,</span></span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span>
          <span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="operator">OF</span> <span class="quoted">"df-1-1:1"</span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span>
          <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main"><span class="main">=</span></span></span></span><span class="quoted"><span class="quoted">‹AOT_term_of_var <span class="main">(</span>Number.Rep <span class="skolem">k</span><span class="main">)</span>›</span></span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> induction<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">0</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">n</span></span><span class="main">∀</span><span class="bound"><span class="bound">m</span></span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">n</span><span class="bound">m</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">n</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">m</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound"><span class="bound">n</span></span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">n</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> <span class="tfree">'a</span><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">&lt;</span>κ<span class="main">&gt;</span>›</span></span><span class="main"><span class="main">]</span></span> Number.GEN <span class="quoted">"&amp;I"</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span> <span class="skolem">n</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> F0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">0</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">n</span></span><span class="main">∀</span><span class="bound"><span class="bound">m</span></span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">n</span><span class="bound">m</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">n</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">m</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="skolem">y</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"nnumber:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="skolem">n</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"nnumber:3"</span> Number.ψ<span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">n</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"pre-ind"</span><span class="main"><span class="main">[</span></span><span class="operator">unconstrain</span> ℛ<span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> β<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"pred-1-1:4"</span><span class="main"><span class="main">,</span></span> <span class="operator">unvarify</span> z<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span>
<span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> 0 <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span> F0<span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> 1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"suc-num:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="free">x</span> <span class="main">→</span> <span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span> <span class="free">n</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> Number.ψ <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"nnumber:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="free">x</span>›</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="main">0</span> <span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances-her:3"</span><span class="main">[</span><span class="operator">unconstrain</span> ℛ<span class="main">,</span> <span class="operator">unvarify</span> β<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-1-1:4"</span><span class="main">,</span> <span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span> <span class="free">x</span>›</span></span> 
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"assume1:5"</span><span class="main">[</span><span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"nnumber:3"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"suc-num:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">n</span><span class="free">x</span> <span class="main">→</span> <span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span> <span class="free">n</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> Number.ψ <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"nnumber:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="free">n</span> <span class="free">x</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x'</span><span class="main">∀</span><span class="bound">y'</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x'</span><span class="bound">y'</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">x'</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y'</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"assume-anc:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="bound">z</span> <span class="main">→</span> <span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">z</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">x'</span><span class="main">∀</span><span class="bound">y'</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x'</span><span class="bound">y'</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x'</span> <span class="main">→</span> <span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">y'</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"nnumber:2"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> θ<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">z</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="skolem">z</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">z</span></span>
      <span class="keyword1"><span class="command">using</span></span> Number.ψ <span class="quoted">"suc-num:1"</span> that <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"suc-num:1"</span><span class="main">[</span><span class="operator">unconstrain</span> n<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> that <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"suc-num:3"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">n</span><span class="free">x</span> <span class="main">→</span> <span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="free">n</span><span class="free">x</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">n</span><span class="free">x</span> <span class="main">∨</span> <span class="free">n</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"assume1:5"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="free">n</span><span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"suc-num:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">n</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">n</span> <span class="main">=</span> <span class="free">x</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:3"</span><span class="main">[</span><span class="operator">unconstrain</span> ℛ<span class="main">,</span> <span class="operator">unvarify</span> β<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-1-1:4"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"rule=E"</span> Number.ψ<span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pred-num"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">n</span> <span class="main">→</span> <span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">n</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span> <span class="free">n</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> Number.ψ <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"nnumber:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="main">0</span> <span class="free">n</span> <span class="main">∨</span> <span class="main">0</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="free">n</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"assume1:5"</span><span class="main">[</span><span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="free">n</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main">0</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="bound">z</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"assume1:2"</span><span class="main">[</span><span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main">0</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="main">=</span> <span class="free">n</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-1-1:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"df-1-1:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span>
                       <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span> <span class="main">0</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span> <span class="main">0</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span> <span class="main">0</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound">x</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">x</span> <span class="main">0</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"no-pred-0:1"</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="main">0</span><span class="free">n</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">z</span><span class="free">n</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances-her:7"</span><span class="main">[</span><span class="operator">unconstrain</span> ℛ<span class="main">,</span> <span class="operator">unvarify</span> β<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-1-1:4"</span><span class="main">,</span>
                       <span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">b</span><span class="free">n</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"nnumber:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span> <span class="main">=</span> <span class="skolem">b</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-1-1:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"df-1-1:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span>
                       <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> 0<span class="main">,</span> <span class="operator">OF</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"nat-card"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span> <span class="main">→</span> <span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">x</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"nnumber:3"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="main">0</span><span class="free">x</span> <span class="main">∨</span> <span class="main">0</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"assume1:5"</span><span class="main">[</span><span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="main">0</span><span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">a</span><span class="free">x</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"anc-her:5"</span><span class="main">[</span><span class="operator">unvarify</span> R x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-thm:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">a</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-num:6"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="free">x</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="main">=</span> <span class="free">x</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:3"</span><span class="main">[</span><span class="operator">unconstrain</span> ℛ<span class="main">,</span> <span class="operator">unvarify</span> β<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-1-1:4"</span><span class="main">,</span>
                       <span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"rule=E"</span> <span class="quoted">"zero-card"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="free">x</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pred-func:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">z</span> <span class="main">→</span> <span class="free">y</span> <span class="main">=</span> <span class="free">z</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">frule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">drule</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">y</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-thm:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> Oa<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">a</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> a_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">a</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">y</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">a</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">x</span><span class="free">z</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">z</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-thm:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">z</span><span class="main">,</span><span class="skolem">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> Ob<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">b</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> b_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">b</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">z</span><span class="main">,</span><span class="skolem">G</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="free">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">b</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">a</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span>  <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">b</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-tran:2"</span><span class="main">[</span><span class="operator">unvarify</span> G H<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"F-u[den]"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"F-u[den]"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span>
          a_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">F</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"P'-eq"</span><span class="main">[</span><span class="operator">unconstrain</span> u<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> Oa<span class="main">,</span> <span class="operator">unconstrain</span> v<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> Ob<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span>
          a_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> b_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span> <span class="main">=</span> <span class="free">z</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pre-Hume"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> a_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> b_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"pred-func:2"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="free">m</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="free">k</span> <span class="main">→</span> <span class="free">m</span> <span class="main">=</span> <span class="free">k</span>›</span></span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-func:1"</span><span class="keyword1"><span class="command">.</span></span>

<span class="comment1">(* TODO: not part of PLM, but consequence of the stronger axioms *)</span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> being_number_of_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span><span class="main">]</span><span class="main">↓</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"safe-ext"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"&amp;I"</span> GEN RN <span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1">Numbers(</span><span class="bound">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> numbers_prop_den<span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span> <span class="main">≡</span> <span class="skolem">x</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-num:2"</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">axiomatization</span></span> <span class="free">ω_nat</span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹ω <span class="main">⇒</span> nat›</span></span> <span class="keyword2"><span class="keyword">where</span></span> ω_nat<span class="main">:</span> <span class="quoted"><span class="quoted">‹surj <span class="free">ω_nat</span>›</span></span>
<span class="keyword1"><span class="command">lemma</span></span> <span class="quoted"><span class="quoted">‹True›</span></span> <span class="keyword1"><span class="command">nitpick</span></span><span class="main">[</span>satisfy<span class="main">,</span> user_axioms<span class="main">,</span> card nat<span class="main">=</span>1<span class="main">,</span> expect <span class="main">=</span> potential<span class="main">]</span> <span class="keyword1"><span class="command">..</span></span>


<span class="comment1">(* TODO: clean up a lot of noise in this proof *)</span>
<span class="keyword1"><span class="command">AOT_axiom</span></span> <span class="quoted">"modal-axiom"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> AOT_model_axiomI<span class="main">)</span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">urrel_act_ωext</span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹urrel <span class="main">⇒</span> ω set›</span></span> <span class="keyword2"><span class="keyword">where</span></span>
    <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_act_ωext</span> <span class="main">≡</span> <span class="main">λ</span> <span class="bound">r</span> <span class="main">.</span> <span class="main">{</span><span class="bound">x</span> <span class="main">::</span> ω <span class="main">.</span> AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="bound">r</span> <span class="main">(</span>ωυ <span class="bound">x</span><span class="main">)</span><span class="main">)</span><span class="main">}</span>›</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">urrel_card_n</span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹urrel <span class="main">⇒</span> nat <span class="main">⇒</span> bool›</span></span> <span class="keyword2"><span class="keyword">where</span></span>
    <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="main">≡</span> <span class="main">λ</span> <span class="bound">r</span> <span class="bound">n</span> <span class="main">.</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span> <span class="main">∧</span> Finite_Set.card <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span> <span class="main">=</span> <span class="bound">n</span>›</span></span>
  <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">model_nat</span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹<span class="main">&lt;</span>κ<span class="main">&gt;</span>›</span></span> <span class="keyword2"><span class="keyword">where</span></span>
    <span class="quoted"><span class="quoted">‹<span class="skolem">model_nat</span> <span class="main">≡</span> Abs_rel <span class="main">(</span>fix_special <span class="main">(</span><span class="main">λ</span> <span class="bound">κ</span> <span class="main">.</span> <span class="keyword1">ε<span class="hidden">⇩</span><sub>𝗈</sub></span> <span class="bound">w</span> <span class="main">.</span> <span class="keyword1">case</span> <span class="bound">κ</span> <span class="keyword1">of</span> ακ <span class="bound">a</span> <span class="main">⇒</span> <span class="main">∀</span><span class="bound">r</span> <span class="main">.</span> <span class="bound">r</span><span class="main">∈</span><span class="bound">a</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span> <span class="main">|</span> <span class="main"><span class="bound">_</span></span> <span class="main">⇒</span> False<span class="main">)</span><span class="main">)</span>›</span></span>

  <span class="keyword1"><span class="command">have</span></span> urrel_card_unique<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="skolem">r</span> <span class="skolem">n</span> <span class="main">⟹</span> <span class="skolem">urrel_card_n</span> <span class="skolem">r</span> <span class="skolem">m</span> <span class="main">⟹</span> <span class="skolem">m</span> <span class="main">=</span> <span class="skolem">n</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">r</span> <span class="skolem">m</span> <span class="skolem">n</span>
    <span class="keyword1"><span class="command">unfolding</span></span> urrel_card_n_def
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    

  <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span> <span class="bound">choice</span> <span class="main">::</span> nat <span class="main">⇒</span> ω <span class="main">.</span> inj <span class="bound">choice</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> ω_nat surj_imp_inj_inv <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">choice</span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹nat <span class="main">⇒</span> ω›</span></span> <span class="keyword2"><span class="keyword">where</span></span> inj_choice<span class="main">:</span> <span class="quoted"><span class="quoted">‹inj <span class="skolem">choice</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">have</span></span> rel_card_ex<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">n</span><span class="main">.</span> <span class="main">∃</span><span class="bound">r</span> <span class="main">.</span> <span class="skolem">urrel_card_n</span> <span class="bound">r</span> <span class="bound">n</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">n</span>
    <span class="keyword1"><span class="command">let</span></span> <span class="var"><span class="quoted"><span class="var">?rel</span></span></span> <span class="main">=</span> <span class="quoted"><span class="quoted">‹Abs_urrel <span class="main">(</span><span class="main">λ</span><span class="bound">u</span><span class="main">.</span> <span class="keyword1">ε<span class="hidden">⇩</span><sub>𝗈</sub></span> <span class="bound">w</span> <span class="main">.</span> <span class="keyword1">case</span> <span class="bound">u</span> <span class="keyword1">of</span> <span class="main">(</span>ωυ <span class="bound">x</span><span class="main">)</span> <span class="main">⇒</span> <span class="bound">x</span> <span class="main">∈</span> <span class="skolem">choice</span> <span class="main">`</span> <span class="main">{</span><span class="main">0</span><span class="main">&lt;..</span><span class="skolem">n</span><span class="main">}</span> <span class="main">|</span> <span class="main"><span class="bound">_</span></span> <span class="main">⇒</span> False<span class="main">)</span>›</span></span>
    <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">r</span> <span class="main">.</span> <span class="skolem">urrel_card_n</span> <span class="bound">r</span> <span class="skolem">n</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> exI<span class="main">)</span>
      <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="var">?rel</span> <span class="skolem">n</span>›</span></span>
        <span class="keyword1"><span class="command">unfolding</span></span> urrel_card_n_def
        <span class="keyword1"><span class="command">unfolding</span></span> urrel_act_ωext_def
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">subst</span> <span class="main"><span class="main">(</span></span>1 2<span class="main"><span class="main">)</span></span> Abs_urrel_inverse<span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_proposition_choice_simp<span class="main">)</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_proposition_choice_simp<span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> inj_choice card_greaterThanAtMost card_image diff_zero inj_def inj_onI<span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">have</span></span> eq_same_card<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="skolem">r</span> <span class="skolem">n</span> <span class="main">⟹</span> <span class="skolem">urrel_card_n</span> <span class="skolem">s</span> <span class="skolem">n</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹urrel_to_ωrel <span class="skolem">r</span> <span class="main">=</span> urrel_to_ωrel <span class="skolem">s</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">r</span> <span class="skolem">s</span> <span class="skolem">n</span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="skolem">r</span> <span class="main">(</span>ωυ <span class="skolem">x</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="skolem">s</span> <span class="main">(</span>ωυ <span class="skolem">x</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">x</span>
      <span class="keyword1"><span class="command">using</span></span> that <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> urrel_to_ωrel_def<span class="main">)</span>
    <span class="keyword1"><span class="command">hence</span></span> urrel_act_ωext_eq<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_act_ωext</span> <span class="skolem">r</span> <span class="main">=</span> <span class="skolem">urrel_act_ωext</span> <span class="skolem">s</span>›</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> urrel_act_ωext_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="skolem">r</span> <span class="skolem">n</span>›</span></span>
    <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="skolem">s</span> <span class="skolem">n</span>›</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> urrel_card_n_def <span class="keyword1"><span class="command">using</span></span> urrel_act_ωext_eq <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">b</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span>›</span></span>
    <span class="keyword2"><span class="keyword">if</span></span> eq<span class="main">:</span> <span class="quoted"><span class="quoted">‹ασ_ext <span class="skolem">a</span> <span class="main">=</span> ασ_ext <span class="skolem">b</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> counts<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">a</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span>›</span></span>
    <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">a</span> <span class="skolem">b</span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>

    <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">b</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span> ›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> allI<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span><span class="main">)</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">r</span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">r</span> <span class="main">∈</span> <span class="skolem">b</span>›</span></span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">s</span><span class="main">.</span> <span class="bound">s</span> <span class="main">∈</span> <span class="skolem">a</span> <span class="main">∧</span> urrel_to_ωrel <span class="bound">s</span> <span class="main">=</span> urrel_to_ωrel <span class="skolem">r</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> ασ_eq_ord_exts_ex eq<span class="main">)</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">s</span></span> <span class="keyword2"><span class="keyword">where</span></span> s_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">s</span> <span class="main">∈</span> <span class="skolem">a</span> <span class="main">∧</span> urrel_to_ωrel <span class="skolem">s</span> <span class="main">=</span> urrel_to_ωrel <span class="skolem">r</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">‹finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="skolem">r</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> counts eq_same_card urrel_card_n_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">a</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">b</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹ασ_ext <span class="skolem">a</span> <span class="main">=</span> ασ_ext <span class="skolem">b</span>›</span></span>
    <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">a</span> <span class="skolem">b</span>
    <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">OF</span> that<span class="main">]</span> 0<span class="main">[</span><span class="operator">OF</span> that<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main">]</span>
    
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="keyword1">ε<span class="hidden">⇩</span><sub>𝗈</sub></span> <span class="bound">w</span><span class="main">.</span> <span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">a</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="main">(</span><span class="keyword1">ε<span class="hidden">⇩</span><sub>𝗈</sub></span> <span class="bound">w</span><span class="main">.</span> <span class="main">∃</span><span class="bound">n</span><span class="main">.</span> <span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">b</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹ασ_ext <span class="skolem">a</span> <span class="main">=</span> ασ_ext <span class="skolem">b</span>›</span></span>
    <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">a</span> <span class="skolem">b</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">subst</span> 0<span class="main"><span class="main">[</span></span><span class="operator">OF</span> that<span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_model_term_equiv <span class="skolem">x</span> <span class="skolem">y</span> <span class="main">⟹</span>
           <span class="main">(</span><span class="keyword1">ε<span class="hidden">⇩</span><sub>𝗈</sub></span> <span class="bound">w</span><span class="main">.</span> <span class="keyword1">case</span> <span class="skolem">x</span> <span class="keyword1">of</span> ακ <span class="bound">a</span> <span class="main">⇒</span> <span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="bound">a</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span> <span class="main">|</span> <span class="main"><span class="bound">_</span></span> <span class="main">⇒</span> False<span class="main">)</span> <span class="main">=</span>
           <span class="main">(</span><span class="keyword1">ε<span class="hidden">⇩</span><sub>𝗈</sub></span> <span class="bound">w</span><span class="main">.</span> <span class="keyword1">case</span> <span class="skolem">y</span> <span class="keyword1">of</span> ακ <span class="bound">a</span> <span class="main">⇒</span> <span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="bound">a</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span> <span class="main">|</span> <span class="main"><span class="bound">_</span></span> <span class="main">⇒</span> False<span class="main">)</span>›</span></span>
    <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">induct</span> <span class="quoted"><span class="skolem">x</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">induct</span> <span class="quoted"><span class="skolem">y</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_model_term_equiv_κ_def<span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="main"><span class="main">(</span></span>mono_tags<span class="main"><span class="main">,</span></span> lifting<span class="main"><span class="main">)</span></span> ασ_eq_ord_exts_ex eq_same_card urrel_card_n_def<span class="main">)</span>
  <span class="keyword1"><span class="command">have</span></span> model_nat_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_model_denotes <span class="skolem">model_nat</span>›</span></span>
    <span class="keyword1"><span class="command">unfolding</span></span> model_nat_def
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> AOT_model_denotes_Abs_rel_fix_specialI<span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"1"</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">force</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="main"><span class="main">(</span></span>no_types<span class="main"><span class="main">,</span></span> lifting<span class="main"><span class="main">)</span></span> AOT_model_denotes_κ_def AOT_model_proposition_choice_simp κ.case_eq_if κ.distinct_disc<span class="main"><span class="main">(</span></span>5<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">have</span></span> model_nat_beta1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="main">[</span><span class="main">«</span><span class="skolem">model_nat</span><span class="main">»</span><span class="main">]</span><span class="skolem">κ</span><span class="main">]</span> <span class="main">⟹</span> <span class="skolem">κ</span> <span class="main">=</span> ακ <span class="skolem">a</span> <span class="main">⟹</span> <span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">a</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">v</span> <span class="skolem">a</span> <span class="skolem">κ</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_sem_exe_denoting<span class="main"><span class="main">[</span></span><span class="operator">simplified</span> AOT_sem_denotes<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> model_nat_den<span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">unfolding</span></span> model_nat_def
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">subst</span> <span class="main"><span class="main">(</span></span><span class="quasi_keyword">asm</span><span class="main"><span class="main">)</span></span> Abs_rel_inverse<span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">subst</span> <span class="main"><span class="main">(</span></span><span class="quasi_keyword">asm</span><span class="main"><span class="main">)</span></span> fix_special_denoting<span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_denotes_κ_def<span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_proposition_choice_simp<span class="main">)</span>
  <span class="keyword1"><span class="command">have</span></span> model_nat_beta2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">κ</span> <span class="main">=</span> ακ <span class="skolem">a</span> <span class="main">⟹</span> <span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">a</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span> <span class="main">⟹</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="main">[</span><span class="main">«</span><span class="skolem">model_nat</span><span class="main">»</span><span class="main">]</span><span class="skolem">κ</span><span class="main">]</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">v</span> <span class="skolem">a</span> <span class="skolem">κ</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_sem_exe_denoting<span class="main"><span class="main">[</span></span><span class="operator">simplified</span> AOT_sem_denotes<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> model_nat_den<span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">unfolding</span></span> model_nat_def
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">subst</span> Abs_rel_inverse<span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">subst</span> fix_special_denoting<span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_denotes_κ_def<span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_proposition_choice_simp<span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">u</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="bound">u</span>›</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Ordinary.ψ
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"ord-=Eequiv:1"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">smt</span> <span class="main"><span class="main">(</span></span>verit<span class="main"><span class="main">)</span></span> AOT_sem_equiv AOT_sem_not <span class="quoted">"thm-neg=E"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">x</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"0F"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">using</span></span> 0 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="main">0</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> numbers<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">zero</span></span> <span class="keyword2"><span class="keyword">where</span></span> zero_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹ακ <span class="skolem">zero</span> <span class="main">=</span> <span class="main">«</span><span class="main">0</span><span class="main">»</span>›</span></span>               
    <span class="keyword1"><span class="command">using</span></span> AOT_sem_exe_denoting<span class="main">[</span><span class="operator">OF</span> <span class="quoted">"oa-exist:2"</span><span class="main">]</span> AOT_sem_abstract
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> AOT_concrete_sem AOT_model_ω_concrete_in_some_world AOT_model_concrete_κ.simps<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span>
              AOT_model_denotes_κ_def AOT_sem_concrete AOT_sem_denotes AOT_sem_dia AOT_sem_not κ.exhaust_disc
              is_ακ_def is_ωκ_def <span class="quoted">"zero:2"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">r</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹AOT_model_denotes <span class="main">(</span>urrel_to_rel <span class="skolem">r</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> AOT_rel_equiv_def Quotient_rel_rep urrel_quotient<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> r_rel_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span><span class="main">↓</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_sem_denotes<span class="main">)</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">r</span> <span class="main">∈</span> <span class="skolem">zero</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="main">0</span><span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> AOT_enc_κ_meta
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="main"><span class="main">(</span></span>full_types<span class="main"><span class="main">,</span></span> lifting<span class="main"><span class="main">)</span></span> AOT_model_enc_κ_def AOT_rel_equiv_def AOT_sem_denotes
                                      Quotient3_def κ.simps<span class="main"><span class="main">(</span></span>11<span class="main"><span class="main">)</span></span> local.zero_def urrel_quotient3 <span class="quoted">"zero:2"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> r_notex<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span><span class="bound">u</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"zero=:2"</span><span class="main">[</span><span class="operator">unvarify</span> F<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> r_rel_den<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="skolem">r</span> <span class="main">(</span>ωυ <span class="skolem">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">u</span><span class="main">»</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_sem_exe_denoting Abs_rel_inverse κυ.simps<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> iso_tuple_UNIV_I r_rel_den urrel_to_rel_def<span class="main">)</span> 
      <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">◇</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">u</span><span class="main">»</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_denotes_κ_def AOT_sem_denotes AOT_sem_concrete AOT_sem_dia AOT_concrete_sem AOT_model_ω_concrete_in_some_world<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span><span class="bound">u</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹ωκ <span class="skolem">u</span>›</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_sem_exe_denoting<span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"oa-exist:1"</span><span class="main"><span class="main">]</span></span> AOT_sem_ordinary AOT_sem_concrete 1<span class="main">)</span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"0"</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_sem_exe<span class="main">)</span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹False›</span></span> <span class="keyword1"><span class="command">using</span></span> r_notex <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_sem_not<span class="main">)</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span>AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="skolem">r</span> <span class="main">(</span>ωυ <span class="skolem">u</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">u</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="skolem">r</span> <span class="main">0</span>›</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> urrel_card_n_def urrel_act_ωext_def
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> card.empty ex_in_conv finite.emptyI mem_Collect_eq<span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">r</span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="skolem">r</span> <span class="main">0</span>›</span></span>
    <span class="keyword1"><span class="command">hence</span></span> r_notex<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span>AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="skolem">r</span> <span class="main">(</span>ωυ <span class="skolem">u</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">u</span>
      <span class="keyword1"><span class="command">unfolding</span></span> urrel_card_n_def urrel_act_ωext_def
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span><span class="bound">u</span>›</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> Ox<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="keyword1">O!</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> x_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> posEx<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="keyword1">E!</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Ox
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> AOT_sem_dia AOT_sem_ordinary<span class="main">)</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> u_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_term_of_var <span class="skolem">x</span> <span class="main">=</span> ωκ <span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_concrete_sem AOT_model_concrete_κ.simps<span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> AOT_model_denotes_κ_def AOT_sem_concrete AOT_sem_denotes AOT_sem_dia κ.exhaust_disc is_ακ_def is_ωκ_def <span class="quoted">"russell-axiom[exe,1].ψ_denotes_asm"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹False›</span></span> <span class="keyword1"><span class="command">using</span></span> x_prop r_notex <span class="keyword1"><span class="command">unfolding</span></span> u_def
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_sem_exe Abs_rel_inverse κυ.simps<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> iso_tuple_UNIV_I urrel_to_rel_def<span class="main">)</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"reductio-aa:1"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b></span> <span class="main">0</span><span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"zero=:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_rel_equiv_def AOT_sem_denotes Quotient3_rel_rep urrel_quotient3<span class="main">)</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">r</span> <span class="main">∈</span> <span class="skolem">zero</span>›</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> zero_def<span class="main">[</span><span class="operator">symmetric</span><span class="main">]</span> AOT_enc_κ_meta
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="main"><span class="main">(</span></span>no_types<span class="main"><span class="main">,</span></span> lifting<span class="main"><span class="main">)</span></span> AOT_model_enc_κ_def Quotient3_abs_rep κ.simps<span class="main"><span class="main">(</span></span>11<span class="main"><span class="main">)</span></span> urrel_quotient3<span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">r</span> <span class="main">∈</span> <span class="skolem">zero</span> <span class="main">⟷</span> <span class="skolem">urrel_card_n</span> <span class="skolem">r</span> <span class="main">0</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">r</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">hence</span></span> Rep_rel_model_nat_0<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_model_valid_in <span class="skolem">w</span> <span class="main">(</span>Rep_rel <span class="skolem">model_nat</span> <span class="main">«</span><span class="main">0</span><span class="main">»</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">w</span>
    <span class="keyword1"><span class="command">unfolding</span></span> model_nat_def
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">subst</span> Abs_rel_inverse<span class="main"><span class="main">[</span></span><span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">subst</span> fix_special_denoting<span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> AOT_sem_denotes <span class="quoted">"zero:2"</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_proposition_choice_simp<span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">subst</span> zero_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">simp</span>
    <span class="keyword1"><span class="command">using</span></span> urrel_card_n_def <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

  <span class="keyword1"><span class="command">have</span></span> AOT_sem_ex1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="main">∃!</span><span class="bound">x</span> <span class="skolem">φ</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span><span class="main">]</span> <span class="main">=</span> <span class="main">(</span><span class="main">∃!</span><span class="bound">κ</span> <span class="main">.</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="bound">κ</span><span class="main">↓</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">φ</span><span class="main">{</span><span class="bound">κ</span><span class="main">}</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">v</span> <span class="skolem">φ</span>
  <span class="keyword1"><span class="command">proof</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="main">∃!</span><span class="bound">x</span> <span class="skolem">φ</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="skolem">φ</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="skolem">φ</span><span class="main">{</span><span class="bound">y</span><span class="main">}</span> <span class="main">→</span> <span class="bound">y</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">κ</span></span> <span class="keyword2"><span class="keyword">where</span></span> κ_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">κ</span><span class="main">↓</span><span class="main">]</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> κ_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">φ</span><span class="main">{</span><span class="skolem">κ</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="skolem">φ</span><span class="main">{</span><span class="bound">y</span><span class="main">}</span> <span class="main">→</span> <span class="bound">y</span> <span class="main">=</span> <span class="skolem">κ</span><span class="main">)</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> AOT_sem_exists<span class="main">)</span>
    <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">κ</span><span class="main">.</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="bound">κ</span><span class="main">↓</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">φ</span><span class="main">{</span><span class="bound">κ</span><span class="main">}</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span>
      <span class="keyword3"><span class="command">show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">κ</span><span class="main">↓</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">φ</span><span class="main">{</span><span class="skolem">κ</span><span class="main">}</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> κ_den κ_prop <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_conj<span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">κ'</span>
      <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">κ'</span><span class="main">↓</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">φ</span><span class="main">{</span><span class="skolem">κ'</span><span class="main">}</span><span class="main">]</span>›</span></span>
      <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">κ'</span> <span class="main">=</span> <span class="skolem">κ</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> κ_prop <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_conj AOT_sem_imp AOT_sem_eq AOT_sem_forall<span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">κ</span><span class="main">.</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="bound">κ</span><span class="main">↓</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">φ</span><span class="main">{</span><span class="bound">κ</span><span class="main">}</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">τ</span><span class="main">.</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="bound">τ</span><span class="main">↓</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">φ</span><span class="main">{</span><span class="bound">τ</span><span class="main">}</span><span class="main">]</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span><span class="bound">τ'</span><span class="main">.</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="bound">τ'</span><span class="main">↓</span><span class="main">]</span> <span class="main">⟶</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="skolem">φ</span><span class="main">{</span><span class="bound">τ'</span><span class="main">}</span><span class="main">]</span> <span class="main">⟶</span> <span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="bound">τ</span><span class="main">↓</span><span class="main">]</span> <span class="main">∧</span> <span class="bound">τ'</span> <span class="main">=</span> <span class="bound">τ</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="main">∃</span><span class="bound">x</span> <span class="main">(</span><span class="skolem">φ</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">y</span> <span class="main">(</span><span class="skolem">φ</span><span class="main">{</span><span class="bound">y</span><span class="main">}</span> <span class="main">→</span> <span class="bound">y</span> <span class="main">=</span> <span class="bound">x</span><span class="main">)</span><span class="main">)</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_exists AOT_sem_conj AOT_sem_forall AOT_sem_imp AOT_sem_eq<span class="main">)</span>
    <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">v</span> <span class="main">⊨</span> <span class="main">∃!</span><span class="bound">x</span> <span class="skolem">φ</span><span class="main">{</span><span class="bound">x</span><span class="main">}</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"uniqueness:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>

  <span class="keyword1"><span class="command">AOT_actually {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">Π</span> <span class="skolem">Π'</span> <span class="skolem">n</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">Π</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">Π'</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">R</span> <span class="bound">R</span> <span class="main">|:</span> <span class="skolem">Π</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">Π'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">R</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main">|:</span> <span class="skolem">Π</span> <span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">Π'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_find_theorems</span></span> <span class="quoted"><span class="quoted"><span class="quoted">‹<span class="skolem">R</span> <span class="main"><span class="main">|:</span></span> <span class="skolem">Π</span> <span class="keyword1"><span class="keyword1"><span class="hidden">⇩</span><sub>1</sub><span class="hidden">⇩</span><sub>-</sub><span class="hidden">⇩</span><sub>1</sub>⟷<span class="hidden">⇩</span><sub>E</sub></span></span> <span class="skolem">Π'</span>›</span></span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> Π_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">Π</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> Π'_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">Π'</span><span class="main">↓</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span>
        Π_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span>
        Π'_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="bound">v</span> <span class="main">→</span> <span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="bound">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"equi:2"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">have</span></span> Rep_rel_Π_simp<span class="main">:</span> <span class="quoted"><span class="quoted">‹Rep_rel <span class="skolem">Π</span> <span class="main">(</span>ωκ <span class="skolem">a</span><span class="main">)</span> <span class="main">=</span> Rep_urrel <span class="main">(</span>rel_to_urrel <span class="skolem">Π</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">a</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">smt</span> <span class="main"><span class="main">(</span></span>verit<span class="main"><span class="main">,</span></span> best<span class="main"><span class="main">)</span></span> AOT_rel_equiv_def AOT_sem_denotes Abs_rel_inverse Quotient3_def
                            Π_den κυ.simps<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> iso_tuple_UNIV_I urrel_quotient3 urrel_to_rel_def<span class="main">)</span>
    <span class="keyword1"><span class="command">have</span></span> Rep_rel_Π'_simp<span class="main">:</span> <span class="quoted"><span class="quoted">‹Rep_rel <span class="skolem">Π'</span> <span class="main">(</span>ωκ <span class="skolem">a</span><span class="main">)</span> <span class="main">=</span> Rep_urrel <span class="main">(</span>rel_to_urrel <span class="skolem">Π'</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">a</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">smt</span> <span class="main"><span class="main">(</span></span>verit<span class="main"><span class="main">,</span></span> best<span class="main"><span class="main">)</span></span> AOT_rel_equiv_def AOT_sem_denotes Abs_rel_inverse Quotient3_def
                            Π'_den κυ.simps<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> iso_tuple_UNIV_I urrel_quotient3 urrel_to_rel_def<span class="main">)</span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">p</span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹ω <span class="main">⇒</span> ω›</span></span>
    <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">b1</span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹ω <span class="main">⇒</span> ω›</span></span> <span class="keyword2"><span class="keyword">where</span></span>
      <span class="quoted"><span class="quoted">‹<span class="skolem">b1</span> <span class="main">≡</span> <span class="main">λ</span> <span class="bound">u</span> <span class="main">.</span> <span class="keyword1">THE</span> <span class="bound">v</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span>›</span></span>
    <span class="keyword3"><span class="command">define</span></span> <span class="skolem"><span class="skolem">b2</span></span> <span class="main">::</span> <span class="quoted"><span class="quoted">‹ω <span class="main">⇒</span> ω›</span></span> <span class="keyword2"><span class="keyword">where</span></span>
      <span class="quoted"><span class="quoted">‹<span class="skolem">b2</span> <span class="main">≡</span> <span class="main">λ</span> <span class="bound">v</span> <span class="main">.</span> <span class="keyword1">THE</span> <span class="bound">u</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span>›</span></span>

    <span class="keyword1"><span class="command">have</span></span> b1_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="main">«</span>ωκ <span class="main">(</span><span class="skolem">b1</span> <span class="skolem">x</span><span class="main">)</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">«</span>ωκ <span class="main">(</span><span class="skolem">b1</span> <span class="skolem">x</span><span class="main">)</span><span class="main">»</span><span class="main">]</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">]</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">x</span> 
      <span class="keyword1"><span class="command">unfolding</span></span> b1_def
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> theI'<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_ωκ_ordinary<span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">↓</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> AOT_sem_exe calculation <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> av_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> that <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="bound">v</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> calculation Π_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> ex1u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">v</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_ex1 AOT_sem_conj<span class="main">)</span>
        <span class="keyword1"><span class="command">using</span></span> AOT_model_ordinary_ωκ <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> AOT_model_ωκ_ordinary AOT_sem_exe κ.inject<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">have</span></span> b2_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main">«</span>ωκ <span class="main">(</span><span class="skolem">b2</span> <span class="skolem">x</span><span class="main">)</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="main">(</span><span class="skolem">b2</span> <span class="skolem">x</span><span class="main">)</span><span class="main">»</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">]</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">]</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">x</span> 
      <span class="keyword1"><span class="command">unfolding</span></span> b2_def
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> theI'<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_ωκ_ordinary<span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">↓</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> AOT_sem_exe calculation <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> av_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> that <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> calculation Π'_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> ex1u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">u</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_ex1 AOT_sem_conj<span class="main">)</span>
        <span class="keyword1"><span class="command">using</span></span> AOT_model_ordinary_ωκ <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> AOT_model_ωκ_ordinary AOT_sem_exe κ.inject<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">have</span></span>  <span class="quoted"><span class="quoted">‹bij_betw <span class="skolem">b1</span> <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π</span><span class="main">)</span><span class="main">)</span> <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π'</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> bij_betw_byWitness<span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> f'<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">b2</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">a</span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">a</span> <span class="main">∈</span> <span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> Πa<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span>›</span></span>
          <span class="keyword1"><span class="command">unfolding</span></span> urrel_act_ωext_def <span class="keyword1"><span class="command">unfolding</span></span> AOT_sem_exe_denoting<span class="main">[</span><span class="operator">OF</span> Π_den<span class="main">]</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Rep_rel_Π_simp<span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> AOT_model_ωκ_ordinary <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="main">↓</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> AOT_sem_exe calculation<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="bound">v</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> Π_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="keyword1">O!</span><span class="bound">x</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="bound">x</span><span class="main">]</span>›</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">is</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">v</span> <span class="main">.</span> <span class="var">?v</span> <span class="bound">v</span>›</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_ex1 AOT_sem_conj<span class="main">)</span>
           <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model.AOT_term_of_var_cases AOT_sem_denotes<span class="main">)</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> AOT_var.AOT_term_of_var_inject <span class="quoted">"russell-axiom[exe,1].ψ_denotes_asm"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">v</span></span> <span class="keyword2"><span class="keyword">where</span></span> v_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="var">?v</span> <span class="skolem">v</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span> <span class="bound">w</span> <span class="main">.</span> <span class="var">?v</span> <span class="bound">w</span> <span class="main">⟶</span> <span class="bound">w</span> <span class="main">=</span> <span class="skolem">v</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">v'</span></span> <span class="keyword2"><span class="keyword">where</span></span> v_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_term_of_var <span class="skolem">v</span> <span class="main">=</span> ωκ <span class="skolem">v'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model_ordinary_ωκ<span class="main">)</span> 
        <span class="keyword1"><span class="command">have</span></span> ex1v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">v</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> v_prop <span class="keyword1"><span class="command">unfolding</span></span> v_def
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model.AOT_term_of_var_cases AOT_model_ωκ_ordinary AOT_sem_denotes κ.inject<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"russell-axiom[exe,1].ψ_denotes_asm"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">v</span></span> <span class="keyword2"><span class="keyword">where</span></span> v_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">v</span> <span class="main">=</span> <span class="main">(</span><span class="keyword1">THE</span> <span class="bound">v</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="main">«</span>ωκ <span class="skolem">v</span><span class="main">»</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_ωκ_ordinary<span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span>ωκ <span class="skolem">v</span><span class="main">»</span><span class="main">↓</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> AOT_sem_exe calculation <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> av_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">v</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="main">«</span>ωκ <span class="skolem">v</span><span class="main">»</span><span class="main">]</span>›</span></span>
          <span class="keyword1"><span class="command">unfolding</span></span> v_def
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> theI'<span class="main">)</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> ex1v<span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="main">«</span>ωκ <span class="skolem">v</span><span class="main">»</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> calculation Π'_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> ex1u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">u</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">«</span>ωκ <span class="skolem">v</span><span class="main">»</span><span class="main">]</span>›</span></span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_ex1 AOT_sem_conj Πa<span class="main">)</span>
          <span class="keyword1"><span class="command">using</span></span> Πa <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> AOT_model_ωκ_ordinary κ.inject<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"russell-axiom[exe,1].ψ_denotes_asm"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">b2</span> <span class="main">(</span><span class="skolem">b1</span> <span class="skolem">a</span><span class="main">)</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> b1_def b2_def b1_prop b2_prop
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Πa av_prop ex1u ex1v<span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">a</span><span class="main">∈</span><span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π</span><span class="main">)</span><span class="main">.</span> <span class="skolem">b2</span> <span class="main">(</span><span class="skolem">b1</span> <span class="bound">a</span><span class="main">)</span> <span class="main">=</span> <span class="bound">a</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">a</span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">a</span> <span class="main">∈</span> <span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π'</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> Π'a<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span>›</span></span>
          <span class="keyword1"><span class="command">unfolding</span></span> urrel_act_ωext_def <span class="keyword1"><span class="command">unfolding</span></span> AOT_sem_exe_denoting<span class="main">[</span><span class="operator">OF</span> Π'_den<span class="main">]</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Rep_rel_Π'_simp<span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> AOT_model_ωκ_ordinary <span class="keyword1"><span class="command">by</span></span> <span class="operator">force</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="main">↓</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> AOT_sem_exe calculation<span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">u</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> Π'_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">x</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="keyword1">O!</span><span class="bound">x</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="bound">x</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="main">]</span>›</span></span> <span class="main">(</span><span class="keyword2"><span class="keyword">is</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">u</span> <span class="main">.</span> <span class="var">?u</span> <span class="bound">u</span>›</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_ex1 AOT_sem_conj<span class="main">)</span>
           <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model.AOT_term_of_var_cases AOT_sem_denotes<span class="main">)</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> AOT_var.AOT_term_of_var_inject <span class="quoted">"russell-axiom[exe,1].ψ_denotes_asm"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> u_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="var">?u</span> <span class="skolem">u</span> <span class="main">∧</span> <span class="main">(</span><span class="main">∀</span> <span class="bound">w</span> <span class="main">.</span> <span class="var">?u</span> <span class="bound">w</span> <span class="main">⟶</span> <span class="bound">w</span> <span class="main">=</span> <span class="skolem">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">u'</span></span> <span class="keyword2"><span class="keyword">where</span></span> u_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_term_of_var <span class="skolem">u</span> <span class="main">=</span> ωκ <span class="skolem">u'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model_ordinary_ωκ<span class="main">)</span> 
        <span class="keyword1"><span class="command">have</span></span> ex1u<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">u</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="main">]</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> u_prop <span class="keyword1"><span class="command">unfolding</span></span> u_def
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model.AOT_term_of_var_cases AOT_model_ωκ_ordinary AOT_model_denotes_κ_def κ.disc<span class="main"><span class="main">(</span></span>7<span class="main"><span class="main">)</span></span> κ.inject<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> u_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span> <span class="main">=</span> <span class="main">(</span><span class="keyword1">THE</span> <span class="bound">u</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">u</span><span class="main">»</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="main">«</span>ωκ <span class="skolem">u</span><span class="main">»</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_ωκ_ordinary<span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span>ωκ <span class="skolem">u</span><span class="main">»</span><span class="main">↓</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> AOT_sem_exe calculation <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> ua_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">u</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">u</span><span class="main">»</span><span class="main">«</span>ωκ <span class="skolem">a</span><span class="main">»</span><span class="main">]</span>›</span></span>
          <span class="keyword1"><span class="command">unfolding</span></span> u_def
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> theI'<span class="main">)</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> ex1u<span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound"><span class="bound">v</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="bound">v</span> <span class="main">&amp;</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">u</span><span class="main">»</span><span class="bound">v</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> calculation Π_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> ex1v<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃!</span><span class="bound">v</span> <span class="main">.</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">Π'</span><span class="main">]</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span> <span class="main">∧</span> <span class="main">[</span>w<span class="hidden">⇩</span><sub>0</sub> <span class="main">⊨</span> <span class="main">[</span><span class="skolem">R</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">u</span><span class="main">»</span><span class="main">«</span>ωκ <span class="bound">v</span><span class="main">»</span><span class="main">]</span>›</span></span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_ex1 AOT_sem_conj Π'a<span class="main">)</span>
          <span class="keyword1"><span class="command">using</span></span> Π'a <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> AOT_model_ωκ_ordinary κ.inject<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"russell-axiom[exe,1].ψ_denotes_asm"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">b1</span> <span class="main">(</span><span class="skolem">b2</span> <span class="skolem">a</span><span class="main">)</span> <span class="main">=</span> <span class="skolem">a</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> b1_def b2_def b1_prop b2_prop
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> Π'a ex1u ex1v ua_prop<span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">a'</span><span class="main">∈</span><span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π'</span><span class="main">)</span><span class="main">.</span> <span class="skolem">b1</span> <span class="main">(</span><span class="skolem">b2</span> <span class="bound">a'</span><span class="main">)</span> <span class="main">=</span> <span class="bound">a'</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="main">(</span>rel_to_urrel <span class="skolem">Π</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="skolem">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="main">(</span>rel_to_urrel <span class="skolem">Π'</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="main">(</span><span class="skolem">b1</span> <span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_sem_exe AOT_sem_exe_denoting Rep_rel_Π'_simp Rep_rel_Π_simp Π_den b1_prop<span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">b1</span> <span class="main">`</span> <span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π</span><span class="main">)</span> <span class="main">⊆</span> <span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π'</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> urrel_act_ωext_def<span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="main">(</span>rel_to_urrel <span class="skolem">Π'</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="skolem">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="main">(</span>rel_to_urrel <span class="skolem">Π</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="main">(</span><span class="skolem">b2</span> <span class="skolem">x</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_sem_exe AOT_sem_exe_denoting Rep_rel_Π'_simp Rep_rel_Π_simp Π'_den b2_prop<span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">b2</span> <span class="main">`</span> <span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π'</span><span class="main">)</span> <span class="main">⊆</span> <span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> urrel_act_ωext_def<span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π</span><span class="main">)</span> <span class="skolem">n</span>›</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π'</span><span class="main">)</span> <span class="skolem">n</span>›</span></span>
      <span class="keyword1"><span class="command">unfolding</span></span> urrel_card_n_def
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> bij_betw_finite bij_betw_same_card<span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_actually {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">Π</span> <span class="skolem">Π'</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">Π</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">Π'</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">Π'</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">Π</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-part:2[terms]"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">presburger</span>
    <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π</span><span class="main">)</span> <span class="main">=</span> <span class="skolem">urrel_card_n</span> <span class="main">(</span>rel_to_urrel <span class="skolem">Π'</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">OF</span> A<span class="main">]</span> 0<span class="main">[</span><span class="operator">OF</span> B<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> equinum_card_eq <span class="main">=</span> this

  <span class="keyword1"><span class="command">AOT_actually {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> Nx<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="skolem">model_nat</span><span class="main">»</span><span class="main">]</span><span class="main">0</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_sem_exe_denoting<span class="main"><span class="main">[</span></span><span class="operator">simplified</span> AOT_sem_denotes<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> model_nat_den<span class="main"><span class="main">]</span></span> Rep_rel_model_nat_0<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> model_nat_den<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="skolem">model_nat</span><span class="main">»</span><span class="main">]</span><span class="main">↓</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> AOT_sem_exe <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="skolem">model_nat</span><span class="main">»</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> induction<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> model_nat_den<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span>
          <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> 0 Nx GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">x</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-thm:3"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> u_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">y</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">z</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> Ou<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">z</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">x</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> numbers<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;E"</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> x_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_term_of_var <span class="skolem">x</span> <span class="main">=</span> ακ <span class="skolem">a</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> y_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_term_of_var <span class="skolem">y</span> <span class="main">=</span> ακ <span class="skolem">b</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model_abstract_ακ<span class="main">)</span>
      <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">u'</span></span> <span class="keyword2"><span class="keyword">where</span></span> u_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_term_of_var <span class="skolem">z</span> <span class="main">=</span> ωκ <span class="skolem">u'</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> AOT_model_ordinary_ωκ Ou <span class="keyword1"><span class="command">by</span></span> <span class="operator">presburger</span>
      <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword2"><span class="keyword">where</span></span> G_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">G</span> <span class="main">=</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">z</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"instantiation"</span> AOT_sem_eq <span class="quoted">"F-u[den]"</span> <span class="quoted">"existential:1"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">x</span><span class="main">,</span> <span class="skolem">G</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> u_prop <span class="quoted">"&amp;E"</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_sem_eq G_def<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_find_theorems</span></span> <span class="quoted"><span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="keyword1">Numbers(</span></span><span class="skolem">y</span><span class="main"><span class="main">,</span></span><span class="skolem">F</span><span class="main"><span class="main">)</span></span>›</span></span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> x_enc_cond<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">z</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">G</span></span>
        <span class="keyword1"><span class="command">using</span></span> u_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> x_enc_cond'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">H</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_sem_eq G_def<span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">G</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"apE-eqE:1"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_conj AOT_sem_forall AOT_sem_equiv AOT_sem_imp<span class="main">)</span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_sem_vars_denote<span class="main">)</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">meson</span> AOT_sem_act <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">using</span></span> AOT_sem_act AOT_sem_lambda_beta eq_den_1 <span class="quoted">"eq-part-act:2"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> xG<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_sem_equiv<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> y_enc_cond<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">F</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">G</span></span>
        <span class="keyword1"><span class="command">using</span></span> u_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> numbers<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">AOT_find_theorems</span></span> <span class="quoted"><span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="keyword1">Numbers(</span></span><span class="skolem">x</span><span class="main"><span class="main">,</span></span><span class="skolem">F</span><span class="main"><span class="main">)</span></span>›</span></span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="skolem">model_nat</span><span class="main">»</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">a</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> model_nat_beta1<span class="main">[</span><span class="operator">OF</span> 0<span class="main">,</span> <span class="operator">OF</span> x_def<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span> <span class="main">∈</span> <span class="skolem">a</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> xG <span class="keyword1"><span class="command">unfolding</span></span> x_def
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_enc_κ_meta AOT_model_enc_κ_def<span class="main">)</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> G_finite<span class="main">:</span> <span class="quoted"><span class="quoted">‹finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
      <span class="keyword1"><span class="command">have</span></span> Rep_rel_G_simp<span class="main">:</span> <span class="quoted"><span class="quoted">‹Rep_rel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span> <span class="main">(</span>ωκ <span class="skolem">a</span><span class="main">)</span> <span class="main">=</span> Rep_urrel <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">a</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">smt</span> <span class="main"><span class="main">(</span></span>verit<span class="main"><span class="main">,</span></span> del_insts<span class="main"><span class="main">)</span></span> AOT_model.AOT_term_of_var AOT_rel_equiv_def Abs_rel_inverse Quotient3_def κυ.simps<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> iso_tuple_UNIV_I urrel_quotient3 urrel_to_rel_def<span class="main">)</span>
      <span class="keyword1"><span class="command">have</span></span> Rep_rel_F_simp<span class="main">:</span> <span class="quoted"><span class="quoted">‹Rep_rel <span class="main">(</span>AOT_term_of_var <span class="skolem">F</span><span class="main">)</span> <span class="main">(</span>ωκ <span class="skolem">a</span><span class="main">)</span> <span class="main">=</span> Rep_urrel <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">F</span><span class="main">)</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">a</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">smt</span> <span class="main"><span class="main">(</span></span>verit<span class="main"><span class="main">,</span></span> del_insts<span class="main"><span class="main">)</span></span> AOT_model.AOT_term_of_var AOT_rel_equiv_def Abs_rel_inverse Quotient3_def κυ.simps<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> iso_tuple_UNIV_I urrel_quotient3 urrel_to_rel_def<span class="main">)</span>

      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">z'</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">z'</span> <span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span> <span class="skolem">z'</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">z'</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> G_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"F-u"</span><span class="main"><span class="main">,</span></span> <span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="hidden">⇩</span><sub>1</sub>τ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">"<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>"</span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> Fv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">z'</span>›</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">z</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">z'</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z'</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z'</span> <span class="main">&amp;</span> <span class="bound">z'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">z</span><span class="main">]</span><span class="skolem">z'</span> <span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span> <span class="skolem">z'</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Fv<span class="main">)</span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"0"</span> AOT_sem_eq AOT_sem_equiv AOT_sem_not <span class="quoted">"=E-simple:2"</span> <span class="quoted">"thm-neg=E"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">z'</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="main">=</span> <span class="skolem">z'</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z'</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z'</span> <span class="main">&amp;</span> <span class="bound">z'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">z</span><span class="main">]</span><span class="skolem">z'</span> <span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span> <span class="skolem">z'</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z'</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">z'</span> <span class="main">&amp;</span> <span class="bound">z'</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">z</span><span class="main">]</span><span class="skolem">z'</span> <span class="main">∨</span> <span class="skolem">z</span> <span class="main">=</span> <span class="skolem">z'</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∨I"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"raa-cor:1"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">F</span><span class="main">)</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="skolem">x</span><span class="main">)</span><span class="main">)</span> <span class="main">⟹</span>
             AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="skolem">x</span><span class="main">)</span><span class="main">)</span> <span class="main">∨</span> <span class="skolem">x</span> <span class="main">=</span> <span class="skolem">u'</span>›</span></span>
        <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">x</span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> Rep_rel_G_simp Rep_rel_F_simp AOT_sem_imp AOT_sem_disj AOT_sem_eq AOT_sem_exe_denoting<span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="operator">axiom_inst</span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model.AOT_term_of_var_cases AOT_model_denotes_κ_def Rep_rel_F_simp Rep_rel_G_simp κ.disc<span class="main"><span class="main">(</span></span>7<span class="main"><span class="main">)</span></span> κ.inject<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> u_def<span class="main">)</span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">e</span> <span class="main">∈</span> <span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">F</span><span class="main">)</span><span class="main">)</span> <span class="main">⟹</span> <span class="skolem">e</span> <span class="main">∈</span> insert <span class="skolem">u'</span> <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">e</span>
        <span class="keyword1"><span class="command">unfolding</span></span> urrel_act_ωext_def
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">F</span><span class="main">)</span><span class="main">)</span> <span class="main">⊆</span> insert <span class="skolem">u'</span> <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> subset_eq<span class="main">)</span>
      <span class="keyword1"><span class="command">hence</span></span> F_finite<span class="main">:</span> <span class="quoted"><span class="quoted">‹finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">F</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">unfolding</span></span> urrel_act_ωext_def
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> G_finite  finite_insert finite_subset urrel_act_ωext_def<span class="main">)</span>
      <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">b</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> allI<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">r</span>
        <span class="keyword3"><span class="command">assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">r</span> <span class="main">∈</span> <span class="skolem">b</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span>›</span></span>
            <span class="keyword1"><span class="command">unfolding</span></span> y_def
            <span class="keyword1"><span class="command">unfolding</span></span> AOT_enc_κ_meta AOT_model_enc_κ_def
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model.AOT_term_of_var AOT_rel_equiv_def Quotient3_def κ.simps<span class="main"><span class="main">(</span></span>11<span class="main"><span class="main">)</span></span> urrel_quotient3 y_def<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">F</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> y_enc_cond<span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> G<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"0"</span> AOT_sem_enc_denotes <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_conj AOT_sem_forall AOT_sem_imp AOT_sem_equiv<span class="main">)</span>
               <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"0"</span> AOT_sem_enc_denotes<span class="main">)</span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">meson</span> AOT_sem_act <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command">using</span></span> AOT_sem_act AOT_sem_lambda_beta calculation eq_den_1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span>urrel_to_rel <span class="skolem">r</span><span class="main">»</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">F</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"apE-eqE:2"</span><span class="main">[</span><span class="operator">unvarify</span> F G H<span class="main">]</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> AOT_sem_conj AOT_sem_imp<span class="main">)</span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"0"</span> AOT_enc_κ_meta AOT_sem_denotes eq_den_2 <span class="quoted">"eq-part:2[terms]"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">urrel_card_n</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>urrel_to_rel <span class="skolem">r</span><span class="main">)</span><span class="main">)</span> <span class="main">=</span> <span class="skolem">urrel_card_n</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">F</span><span class="main">)</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> equinum_card_eq <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword3"><span class="command">thus</span></span> <span class="quoted"><span class="quoted">‹finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="skolem">r</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> F_finite Quotient3_def urrel_card_n_def urrel_quotient3<span class="main">)</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="skolem">model_nat</span><span class="main">»</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> model_nat_beta2<span class="main">[</span><span class="operator">OF</span> y_def<span class="main">]</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
<span class="comment1">(*********************************)</span>

  <span class="keyword1"><span class="command">AOT_actually {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">G</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> Nm<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">«</span><span class="skolem">model_nat</span><span class="main">»</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_term_of_var <span class="skolem">x</span> <span class="main">=</span> ακ <span class="skolem">a</span> <span class="main">⟹</span> <span class="main">∀</span><span class="bound">r</span><span class="main">.</span> <span class="bound">r</span> <span class="main">∈</span> <span class="skolem">a</span> <span class="main">⟶</span> finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="bound">r</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">a</span> <span class="keyword1"><span class="command">using</span></span> model_nat_beta1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> Nm <span class="quoted">"nat-card"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span>›</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> mG<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"card-en"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="skolem">x</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃I"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"encoders-are-abstract"</span> <span class="quoted">"vdash-properties:6"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">a</span></span> <span class="keyword2"><span class="keyword">where</span></span> m_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹AOT_term_of_var <span class="skolem">x</span> <span class="main">=</span> ακ <span class="skolem">a</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model_abstract_ακ<span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span> <span class="main">∈</span> <span class="skolem">a</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> mG <span class="keyword1"><span class="command">unfolding</span></span> m_def
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_enc_κ_meta AOT_model_enc_κ_def<span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹finite <span class="main">(</span><span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"0"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span>finite <span class="main">(</span>UNIV<span class="main">::</span>ω set<span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> ω_nat finite_imageI infinite_UNIV_nat<span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span> <span class="bound">x</span> <span class="main">.</span> <span class="bound">x</span> <span class="main">∉</span> <span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> ex_new_if_finite<span class="main">)</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> x_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="main">∉</span> <span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">have</span></span> Rep_rel_G_simp<span class="main">:</span> <span class="quoted"><span class="quoted">‹Rep_rel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span> <span class="main">(</span>ωκ <span class="skolem">a</span><span class="main">)</span> <span class="main">=</span> Rep_urrel <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="skolem">a</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem">a</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">smt</span> <span class="main"><span class="main">(</span></span>verit<span class="main"><span class="main">,</span></span> del_insts<span class="main"><span class="main">)</span></span> AOT_model.AOT_term_of_var AOT_rel_equiv_def Abs_rel_inverse Quotient3_def κυ.simps<span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> iso_tuple_UNIV_I urrel_quotient3 urrel_to_rel_def<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> notGx<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span>›</span></span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹AOT_model_valid_in w<span class="hidden">⇩</span><sub>0</sub> <span class="main">(</span>Rep_urrel <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span> <span class="main">(</span>ωυ <span class="skolem">x</span><span class="main">)</span><span class="main">)</span>›</span></span>
         <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_sem_exe Rep_rel_G_simp<span class="main">)</span> 
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">G</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="main">∈</span> <span class="skolem">urrel_act_ωext</span> <span class="main">(</span>rel_to_urrel <span class="main">(</span>AOT_term_of_var <span class="skolem">G</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> calculation mem_Collect_eq urrel_act_ωext_def<span class="main">)</span>
      <span class="keyword1"><span class="command">hence</span></span> <span class="quoted">False</span> <span class="keyword1"><span class="command">using</span></span> x_prop <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
 
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹ωκ <span class="skolem">x</span>›</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">O!</span><span class="main">]</span><span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_ωκ_ordinary<span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">z</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">z</span>›</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> Gu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">z</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">z</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="main">=</span> <span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model.AOT_term_of_var_cases AOT_model_denotes_κ_def AOT_sem_not κ.disc<span class="main"><span class="main">(</span></span>7<span class="main"><span class="main">)</span></span> <span class="quoted">"=E-simple:2"</span> <span class="quoted">"modus-tollens:1"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> notGx <span class="quoted">"rule=E"</span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Gu <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">z</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_model.AOT_term_of_var_cases AOT_model_denotes_κ_def AOT_sem_equiv κ.disc<span class="main"><span class="main">(</span></span>7<span class="main"><span class="main">)</span></span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span> 
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span>ωκ <span class="skolem">x</span><span class="main">»</span><span class="main">↓</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> AOT_model_denotes_κ_def AOT_sem_denotes<span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this

  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">G</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> ActNm<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"mod-col-num:1"</span> <span class="quoted">"nec-imp-act"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> AOT_sem_eq <span class="quoted">"RA[2]"</span> <span class="quoted">"id-eq:1"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">∃</span><span class="bound"><span class="bound">v</span></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> AOT_sem_act ActNm 0 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="keyword1">O!</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">smt</span> <span class="main"><span class="main">(</span></span>z3<span class="main"><span class="main">)</span></span> <span class="quoted">"instantiation"</span> AOT_sem_act <span class="quoted">"existential:2[const_var]"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="keyword1">O!</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="keyword1">O!</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Act-Basic:2"</span> <span class="quoted">"&amp;E"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> Oy<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"oa-facts:7"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 <span class="quoted">"Ordinary.res-var-bound-reas[3]"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fastforce</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">b</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">b</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">b</span> <span class="main">→</span> <span class="skolem">b</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">b</span> <span class="main">→</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">b</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"act-cond"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">b</span>›</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="skolem">b</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">b</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-act2:2"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">b</span> <span class="main">→</span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">b</span> <span class="main">→</span> <span class="skolem">b</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Oy <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this <span class="comment1">(* uses semantics *)</span>

  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">n</span> <span class="skolem">m</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">n</span><span class="skolem">m</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">m</span><span class="main">,</span><span class="bound">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">n</span><span class="main">,</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"pred-thm:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">m</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">n</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="bound">u</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> u_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">m</span><span class="main">,</span><span class="skolem">F</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">Numbers(</span><span class="skolem">n</span><span class="main">,</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">u</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">n</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">]</span><span class="skolem">n</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">m</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">]</span><span class="skolem">m</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">m</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">m</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">m</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">m</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">v</span></span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">OF</span> 1<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> Oy<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> y_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">◇</span><span class="keyword1">E!</span><span class="bound">z</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> AOT_ordinary<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
         <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">fact</span> Oy<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="keyword1">E!</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
          <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> y_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> Ordinary.ψ <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"sc-eq-box-box:6"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
             <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> RN <span class="quoted">"qml-act:1"</span> <span class="quoted">"vdash-properties:1[2]"</span><span class="main">)</span>
            <span class="keyword1"><span class="command">using</span></span> 0
            <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"id-nec4:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.res-var-bound-reas[BF]"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">E!</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic:16"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"vdash-properties:6"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="keyword1">E!</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"RE◇"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"Commutativity of &amp;"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span><span class="main">◇</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"CBF◇"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this

  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> F_def<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">F</span> <span class="main">=</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="main"><span class="main">(</span></span>no_types<span class="main"><span class="main">,</span></span> lifting<span class="main"><span class="main">)</span></span> <span class="quoted">"0"</span> <span class="quoted">"instantiation"</span> <span class="quoted">"rule=I:1"</span> <span class="quoted">"existential:1"</span> id_sym<span class="main">)</span> 
    <span class="keyword1"><span class="command">AOT_have</span></span> F_ind<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">n</span></span><span class="main">∀</span><span class="bound"><span class="bound">m</span></span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">n</span><span class="bound">m</span> <span class="main">→</span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">n</span> <span class="main">→</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">m</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> Number.GEN <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">n</span> <span class="skolem">m</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> Pnm<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">n</span><span class="skolem">m</span>›</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">n</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">]</span><span class="skolem">n</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> F_def<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">n</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">]</span><span class="skolem">n</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">m</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">]</span><span class="skolem">m</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> 1<span class="main">[</span><span class="operator">OF</span> Pnm<span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">]</span><span class="skolem">m</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> 0 <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">m</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rule=E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">,</span> <span class="operator">OF</span> F_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> F0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">0</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> F_def<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"zero:2"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"0-n"</span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="main">0</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span><span class="main">]</span><span class="main">0</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span><span class="main">]</span><span class="main">0</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"eq-num:2"</span><span class="main">[</span><span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> act_G_unex<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"0F"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">v</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="main">◇</span><span class="keyword1">E!</span><span class="bound">z</span><span class="main">]</span><span class="skolem">v</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> Ordinary.ψ <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> AOT_ordinary<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">rotated</span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="keyword1">E!</span><span class="skolem">v</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span>
          <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
              <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">□</span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span><span class="main">)</span>›</span></span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">¬</span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span><span class="main">)</span>›</span></span>
                <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"KBasic:11"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">(</span><span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
                <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"RE◇"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:1:b"</span><span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="main">◇</span><span class="main">¬</span><span class="main">(</span><span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span><span class="main">)</span>›</span></span>
                <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"KBasic2:3"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
                <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Act-Sub:4"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
              <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
                <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 0<span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"Ordinary.∃I"</span><span class="main">)</span>
              <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
                <span class="keyword1"><span class="command">using</span></span> act_G_unex <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">qed</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.res-var-bound-reas[BF]"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span><span class="main">)</span> <span class="main">&amp;</span> <span class="keyword1">E!</span><span class="skolem">v</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic:16"</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="keyword1">E!</span><span class="skolem">v</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">v</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"RE◇"</span> <span class="quoted">"≡E"</span><span class="main">(</span>4<span class="main">)</span> <span class="quoted">"Commutativity of &amp;"</span> <span class="quoted">"raa-cor:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span> <span class="main">◇</span><span class="main">(</span><span class="keyword1">E!</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"CBF◇"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">n</span></span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">n</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> induction<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">F</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> F0<span class="main">,</span> <span class="operator">OF</span> F_ind<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
    <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span><span class="main">)</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span><span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> x_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="skolem">x</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">x</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> F_def<span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">]</span><span class="skolem">x</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span><span class="main">]</span><span class="skolem">x</span> <span class="main">→</span> <span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="bound">x</span> <span class="main">=</span> <span class="main">#</span><span class="free">G</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> being_number_of_den<span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> x_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound">y</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> x_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"modal-lemma"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span> Ordinary.GEN<span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> act_Gu<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∀E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> act_Gu <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_have</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">if</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span>
  <span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">→</span> <span class="main">□</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> RM<span class="main">)</span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"&amp;E"</span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> that <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Act-Basic:6"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Ordinary.ψ θ <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1 <span class="quoted">"K◇"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="free">v</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"id-nec4:2"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span> 
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"th-succ"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">n</span></span><span class="main">∃!</span><span class="bound"><span class="bound">m</span></span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">n</span><span class="bound">m</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> Number.GEN <span class="quoted">"→I"</span> <span class="quoted">"uniqueness:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">n</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">NaturalCardinal(</span><span class="skolem">n</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"nat-card"</span> Number.ψ <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span><span class="main">(</span><span class="skolem">n</span> <span class="main">=</span> <span class="main">#</span><span class="bound">G</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>E"</span> card<span class="main">)</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword2"><span class="keyword">where</span></span> n_num_G<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">n</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">n</span></span> <span class="main">(</span><span class="bound">n</span> <span class="main">=</span> <span class="main">#</span><span class="skolem">G</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"Number.∃I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound">y</span> <span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"modal-axiom"</span><span class="main">[</span><span class="operator">axiom_inst</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">y</span> <span class="main">◇</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="bound">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="bound">y</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"BF◇"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">(</span><span class="main">[</span><span class="keyword1">E!</span><span class="main">]</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="keyword1">E!</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"KBasic2:3"</span> <span class="quoted">"&amp;E"</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> Oy<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="skolem">y</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> AOT_ordinary<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> 1 <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="bound">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2 <span class="quoted">"modal-lemma"</span><span class="main">[</span><span class="operator">unconstrain</span> v<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> Oy<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">b</span></span> <span class="keyword2"><span class="keyword">where</span></span> b_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">b</span><span class="main">,</span> <span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num:1"</span><span class="main">[</span><span class="operator">unvarify</span> G<span class="main">,</span> <span class="operator">OF</span> 1<span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> Pnb<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">n</span><span class="skolem">b</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"pred-thm:3"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">]</span><span class="main">»</span>›</span></span><span class="main"><span class="main">]</span></span> 1 <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">y</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Oy b_prop<span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">;</span></span>
          <span class="operator">auto</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> <span class="quoted">"∨I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"ord-=Eequiv:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Oy<span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> equinum<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">y</span> <span class="keyword1">≈<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"apE-eqE:1"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F G<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="main">(</span><span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span> <span class="main"><span class="keyword3">|</span></span> <span class="operator">rule</span> <span class="quoted">"F-u[den]"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span><span class="main"><span class="keyword3">?</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">y</span> <span class="keyword1">≡<span class="hidden">⇩</span><sub>E</sub></span> <span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> eqE<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"F-u[den]"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">]</span></span> Ordinary.GEN <span class="quoted">"→I"</span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">?</span></span><span class="main">)</span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="main">[</span><span class="keyword1">(=<span class="hidden">⇩</span><sub>E</sub>)</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">y</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">]</span><span class="skolem">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"F-u"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main"><span class="main">[</span></span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="hidden">⇩</span><sub>1</sub>τ<span class="hidden">⇩</span><sub>n</sub><span class="main"><span class="main"><span class="main"><span class="main">=</span></span></span></span><span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">_</span><span class="main">,</span><span class="main">_</span><span class="main">)</span>›</span></span><span class="main"><span class="main"><span class="main">]</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">simplified</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main"><span class="keyword3">?</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-cor:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span>  <span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">∨</span> <span class="skolem">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">AOT_subst</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="main">[</span><span class="keyword1">(=<span class="hidden">⇩</span><sub>E</sub>)</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">]</span><span class="skolem">u</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">∨</span> <span class="skolem">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">»</span>›</span></span><span class="main">)</span>
           <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-cor:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"oth-class-taut:3:a"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">∨</span> <span class="skolem">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"thm-neg=E"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">next</span></span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">∨</span> <span class="skolem">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span>
            <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> Ordinary.ψ<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="quoted">"∨I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">∨</span> <span class="skolem">u</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">)</span> <span class="main">&amp;</span> <span class="skolem">u</span> <span class="keyword1">≠<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">simp</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">…</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"beta-C-cor:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">finally</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="main">[</span><span class="keyword1">(=<span class="hidden">⇩</span><sub>E</sub>)</span><span class="main">]</span><span class="bound">x</span><span class="skolem">y</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">y</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="main">↓</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="skolem">n</span><span class="main">,</span><span class="main">[λ</span><span class="bound">x</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">x</span> <span class="main">∨</span> <span class="bound">x</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>E</sub></span> <span class="skolem">y</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>-</sup>⇧</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"num-tran:1"</span><span class="main">[</span><span class="operator">unvarify</span> G H<span class="main">,</span> <span class="operator">OF</span> 2<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"F-u[den]"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> 1<span class="main"><span class="main">]</span></span><span class="main">,</span>
                       <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> equinum<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span>
                       <span class="operator">OF</span> <span class="quoted">"eq-num:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> n_num_G<span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">α</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">α</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">n</span><span class="bound">α</span> <span class="main">&amp;</span> <span class="main">∀</span><span class="bound">β</span> <span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="bound">β</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">n</span><span class="bound">β</span> <span class="main">→</span> <span class="bound">β</span> <span class="main">=</span> <span class="bound">α</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">b</span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span> Pnb <span class="quoted">"→I"</span> GEN<span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">b</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"suc-num:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> Pnb<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
  <span class="keyword1"><span class="command">next</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">n</span><span class="skolem">y</span>›</span></span>
    <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span> <span class="main">=</span> <span class="skolem">b</span>›</span></span>
      <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"pred-func:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> Pnb <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="comment1">(* TODO: note the use of a bold ' *)</span>
<span class="keyword1"><span class="command">AOT_define</span></span> Successor <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹τ <span class="main"><span class="main">⇒</span></span> κ<span class="hidden">⇩</span><sub>s</sub>›</span></span></span> <span class="main">(</span><span class="quoted">‹_<span class="keyword1"><span class="keyword1"><span class="hidden">❙</span><b>'</b>'</span></span>›</span> <span class="main">[</span>100<span class="main">]</span> 100<span class="main">)</span>
  <span class="quoted">"def-suc"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="bound">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span> <span class="keyword1">=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound"><span class="bound">m</span></span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">n</span><span class="bound">m</span><span class="main">)</span>›</span></span>

<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Note: not explicitly in PLM›</span></span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"def-suc[den1]"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound"><span class="bound">m</span></span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="bound">m</span><span class="main">)</span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"A-Exists:2"</span> <span class="quoted">"RA[2]"</span> <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"th-succ"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Number.∀E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">text</span></span><span class="quoted"><span class="plain_text">‹Note: not explicitly in PLM›</span></span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"def-suc[den2]"</span><span class="main">:</span> <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">‹<span class="free">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span><span class="main">↓</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"def-suc"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"def-suc[den1]"</span><span class="main">)</span>

<span class="comment1">(* TODO: not in PLM *)</span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> suc_eq_desc<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span> <span class="main">=</span> <span class="keyword1"><span class="hidden">❙</span><b>ι</b></span><span class="bound"><span class="bound">m</span></span><span class="main">(</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="bound">m</span><span class="main">)</span>›</span></span>
  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"def-suc"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
     <span class="main">(</span><span class="operator">auto</span> <span class="quasi_keyword">simp</span><span class="main"><span class="main">:</span></span> <span class="quoted">"def-suc[den1]"</span> <span class="quoted">"rule=I:1"</span><span class="main">)</span>

<span class="comment1">(* TODO: PLM: with the lemmata above this is significantly easier to prove; even without them the
   strategy is much simpler *)</span>
<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"suc-fact"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">n</span> <span class="main">=</span> <span class="free">m</span> <span class="main">→</span> <span class="free">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span> <span class="main">=</span> <span class="free">m</span><span class="main"><span class="hidden">❙</span><b>'</b></span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">n</span> <span class="main">=</span> <span class="free">m</span>›</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="free">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span> <span class="main">=</span> <span class="free">m</span><span class="main"><span class="hidden">❙</span><b>'</b></span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> 0<span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"=I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="operator">OF</span> <span class="quoted">"def-suc[den2]"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"ind-gnd"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">m</span> <span class="main">=</span> <span class="main">0</span> <span class="main">∨</span> <span class="main">∃</span><span class="bound"><span class="bound">n</span></span><span class="main">(</span><span class="free">m</span> <span class="main">=</span> <span class="bound">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="free">m</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> Number.ψ <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"nnumber:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="main">0</span><span class="free">m</span> <span class="main">∨</span> <span class="main">0</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="free">m</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"assume1:5"</span><span class="main">[</span><span class="operator">unvarify</span> x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>*</sup></span><span class="main">]</span><span class="main">0</span><span class="free">m</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">z</span> <span class="main">(</span><span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="bound">z</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="bound">z</span><span class="free">m</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"w-ances-her:7"</span><span class="main">[</span><span class="operator">unconstrain</span> ℛ<span class="main">,</span> <span class="operator">unvarify</span> β x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-1-1:4"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">z</span></span> <span class="keyword2"><span class="keyword">where</span></span> θ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="main"><span class="hidden">⇧</span><sup>+</sup></span><span class="main">]</span><span class="main">0</span><span class="skolem">z</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> ξ<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">z</span><span class="free">m</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> Nz<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">z</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> θ <span class="quoted">"≡E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"nnumber:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">m</span> <span class="main">=</span> <span class="skolem">z</span><span class="main"><span class="hidden">❙</span><b>'</b></span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"def-suc"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub>I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main"><span class="keyword3">;</span></span>
           <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"def-suc[den1]"</span><span class="main"><span class="main">[</span></span><span class="operator">unconstrain</span> n<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> Nz<span class="main"><span class="main">]</span></span> <span class="quoted">"nec-hintikka-scheme"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"&amp;I"</span>
                        GEN <span class="quoted">"→I"</span> <span class="quoted">"Act-Basic:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">m</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> Number.ψ
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"mod-col-num:1"</span> <span class="quoted">"nec-imp-act"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">z</span><span class="free">m</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> ξ
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"nec-imp-act"</span> <span class="quoted">"pred-1-1:1"</span> <span class="quoted">"vdash-properties:6"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">y</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">y</span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">z</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">z</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Act-Basic:2"</span> <span class="quoted">"&amp;E"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="skolem">z</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> RN <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"pred-1-1:1"</span> <span class="quoted">"sc-eq-fur:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span> <span class="main">=</span> <span class="free">m</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"pred-func:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">]</span> ξ <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="skolem">z</span> <span class="main">&amp;</span> <span class="free">m</span> <span class="main">=</span> <span class="skolem">z</span><span class="main"><span class="hidden">❙</span><b>'</b></span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"&amp;I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">n</span></span> <span class="free">m</span> <span class="main">=</span> <span class="bound">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∨I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="main">=⇩</span><span class="keyword1">𝒫</span> <span class="free">m</span>›</span></span>
    <span class="comment1">(* TODO: PLM: the proof takes a verbose route here *)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="main">=</span> <span class="free">m</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"id-R-thm:3"</span><span class="main">[</span><span class="operator">unconstrain</span> ℛ<span class="main">,</span> <span class="operator">unvarify</span> β x<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-thm:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"pred-1-1:4"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span>
      <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
    <span class="keyword1"><span class="command">hence</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span> <span class="keyword1"><span class="command">using</span></span> id_sym <span class="quoted">"∨I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"∨E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> <span class="quoted">"suc-thm"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span> <span class="free">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="keyword2"><span class="keyword">where</span></span> m_is_n<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span> <span class="main">=</span> <span class="free">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"free-thms:1"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"def-suc[den2]"</span><span class="main">]</span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">metis</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">(</span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span> <span class="main">&amp;</span> <span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span> <span class="free">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"rule=E"</span><span class="main"><span class="main">[</span></span><span class="operator">rotated</span><span class="main"><span class="main">,</span></span> <span class="operator">OF</span> suc_eq_desc<span class="main"><span class="main">[</span></span><span class="operator">symmetric</span><span class="main"><span class="main">]</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"actual-desc:4"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span>  <span class="quoted">"def-suc[den1]"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="main">ℕ</span><span class="main">]</span><span class="free">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span>›</span></span> <span class="keyword2"><span class="keyword">and</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span> <span class="free">n</span><span class="main"><span class="hidden">❙</span><b>'</b></span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Act-Basic:2"</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="skolem">x</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> m_is_n<span class="main">[</span><span class="operator">symmetric</span><span class="main">]</span> <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span><span class="main"><span class="keyword3">+</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="keyword1">𝒫</span><span class="main">]</span><span class="free">n</span><span class="skolem">x</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> RN <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"pred-1-1:1"</span> <span class="quoted">"sc-eq-fur:2"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">thus</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command">using</span></span> m_is_n <span class="quoted">"rule=E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_define</span></span> Numeral1 <span class="main">::</span> <span class="quoted"><span class="quoted"><span class="quoted">‹κ<span class="hidden">⇩</span><sub>s</sub>›</span></span></span> <span class="main">(</span><span class="quoted">"<span class="keyword1"><span class="keyword1">1</span></span>"</span><span class="main">)</span>
  <span class="quoted">"numerals:1"</span><span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">1</span> <span class="keyword1">=<span class="hidden">⇩</span><sub>d</sub><span class="hidden">⇩</span><sub>f</sub></span> <span class="main">0</span><span class="main"><span class="hidden">❙</span><b>'</b></span>›</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> AX<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">x</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword2"><span class="keyword">assumes</span></span> G_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="free">x</span><span class="main">[</span><span class="free">G</span><span class="main">]</span> <span class="main">≡</span> <span class="free">y</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"cqt-further:4"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"≡I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">x</span>›</span></span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span> 
    <span class="keyword1"><span class="command">next</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">y</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="free">y</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"¬¬I"</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[λ</span><span class="bound">x</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">x</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="free">x</span>›</span></span>
          <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> 0 <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span><span class="main"><span class="keyword3">+</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">using</span></span> 1 <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="free">x</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"ind-nec"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"CBF"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> indistI <span class="main">=</span> this
  <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> G_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="free">G</span><span class="main">]</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="free">y</span><span class="main">[</span><span class="free">G</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> Ax<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="free">x</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"∃I"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="quoted">"encoders-are-abstract"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> Ay<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="free">y</span>›</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">x</span><span class="main">[</span><span class="free">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"≡E"</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> G_prop <span class="quoted">"&amp;E"</span> <span class="quoted">"≡E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> xprop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Ordinary.res-var-bound-reas[BF]"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"qml:2"</span><span class="main">[</span><span class="operator">axiom_inst</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> xprop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> xprop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> yprop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="free">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="free">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> RN <span class="quoted">"oth-class-taut:3:a"</span> <span class="quoted">"universal-cor"</span> <span class="quoted">"vdash-properties:9"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="free">y</span><span class="main">[</span><span class="free">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">using</span></span> G_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> indistI <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="free">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> indistinguishable_ord_enc_all<span class="main">[</span><span class="operator">axiom_inst</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">OF</span> Ax<span class="main">,</span> <span class="operator">OF</span> Ay<span class="main">,</span> <span class="operator">OF</span> indist<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> xprop<span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="free">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="free">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> yprop <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> notAy<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="keyword1">A!</span><span class="free">y</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="keyword1">A!</span><span class="main">»</span>›</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">using</span></span> Ax notAy <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"oa-exist:2"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>  <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> G_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="free">x</span><span class="main">[</span><span class="free">G</span><span class="main">]</span> <span class="main">&amp;</span> <span class="free">y</span><span class="main">[</span><span class="free">G</span><span class="main">]</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> Ay<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="free">y</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">meson</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span> <span class="quoted">"encoders-are-abstract"</span> <span class="quoted">"existential:2[const_var]"</span> <span class="quoted">"vdash-properties:10"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> notOy<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="keyword1">O!</span><span class="free">y</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"oa-contingent:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> Ax<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">A!</span><span class="free">x</span>›</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">x</span><span class="main">[</span><span class="free">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"≡E"</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> G_prop <span class="quoted">"&amp;E"</span> <span class="quoted">"≡E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> x_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> x_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span> 
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> F_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">u</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword1"><span class="command">using</span></span> F_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="skolem">u</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"qml:2"</span><span class="main">[</span><span class="operator">axiom_inst</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="free">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> x_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">using</span></span> F_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> y_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="free">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">F</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="free">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">¬</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="free">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"cqt-further:4"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="free">y</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"raa-cor:1"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="free">y</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="free">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> RN <span class="quoted">"oth-class-taut:3:a"</span> <span class="quoted">"universal-cor"</span> <span class="quoted">"vdash-properties:9"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="free">y</span><span class="main">[</span><span class="free">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">using</span></span> G_prop <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">qed</span></span>
  
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> indistI <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="free">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> indistinguishable_ord_enc_ex<span class="main">[</span><span class="operator">axiom_inst</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"&amp;I"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">,</span>
<span class="operator">OF</span> Ax<span class="main">,</span> <span class="operator">OF</span> Ay<span class="main">,</span> <span class="operator">OF</span> indist<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> y_prop<span class="main">]</span> x_prop <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> notAx<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="keyword1">A!</span><span class="free">x</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> Ox<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1">O!</span><span class="free">x</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∨E"</span><span class="main">(</span>3<span class="main">)</span> <span class="quoted">"oa-exist:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"∃I"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> τ<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="keyword1">O!</span><span class="main">»</span>›</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">using</span></span> Ox notOy <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"oa-exist:1"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="free">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> G_prop <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"&amp;I"</span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"≡I"</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">notepad</span></span>
<span class="keyword2"><span class="keyword">begin</span></span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span> <span class="main">→</span> <span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="skolem"><span class="skolem">G</span></span>
      <span class="keyword1"><span class="command">using</span></span> AX <span class="quoted">"→I"</span> <span class="quoted">"&amp;E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>

    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span> <span class="skolem">G</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">H</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">H</span></span> <span class="keyword2"><span class="keyword">where</span></span> H_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∀E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command"><span class="improper">AOT_hence</span></span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword1"><span class="command">using</span></span> H_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span>
              <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>5<span class="main"><span class="main">)</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span><span class="main">)</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main">)</span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
              <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword1"><span class="command">using</span></span> 1 2 3
                <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main">)</span>
              <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">}</span></span>
            <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"deduction-theorem"</span> <span class="quoted">"≡I"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> asm1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> AX<span class="main">[</span><span class="operator">OF</span> asm1<span class="main">,</span> <span class="operator">OF</span> H_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> t <span class="main">=</span> this

      <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span> <span class="skolem"><span class="skolem">y</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"contraposition:1[1]"</span>
        <span class="keyword1"><span class="command">using</span></span> A <span class="keyword1"><span class="command">by</span></span> <span class="operator">presburger</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span> <span class="skolem">G</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound">F</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">∨</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="quoted">"∨I"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"∨I"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"reductio-aa:1"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"¬¬I"</span> <span class="quoted">"∨E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"deduction-theorem"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
      <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">}</span></span>
<span class="keyword2"><span class="keyword">end</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> denotes_all'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> nec_indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span> 
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"ind-nec"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> indist_nec<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"CBF"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span> RN <span class="quoted">"≡I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">¬</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"cqt-further:2"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword2"><span class="keyword">where</span></span> G_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:1:b"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> xG<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"≡E"</span><span class="main">(</span>1<span class="main">)</span> <span class="quoted">"reductio-aa:1"</span> xG <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">H</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
            <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 3<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> xG <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">H</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> F_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> AX<span class="main">[</span><span class="operator">OF</span> A<span class="main">,</span> <span class="operator">OF</span> B<span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> indist<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> F_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">using</span></span> F_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> calculation <span class="quoted">"cqt-basic:11"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> RN GEN <span class="quoted">"→I"</span> 1 <span class="quoted">"kirchner-thm:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> denotes_ex'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> nec_indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span> 
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"ind-nec"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> indist_nec<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">□</span><span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"CBF"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> 0<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span> RN <span class="quoted">"≡I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">G</span> <span class="main">¬</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"cqt-further:2"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword2"><span class="keyword">where</span></span> G_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:1:b"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> yG<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> G_prop <span class="quoted">"deduction-theorem"</span> <span class="quoted">"raa-cor:3"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command"><span class="improper">AOT_hence</span></span></span> 12<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">&amp;</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> B<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"12"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>3<span class="main"><span class="main">)</span></span> <span class="quoted">"raa-cor:3"</span> yG<span class="main">)</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">H</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">u</span>
            <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 3<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">also</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"Ordinary.∀E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
            <span class="keyword1"><span class="command">finally</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="skolem">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span><span class="keyword1"><span class="command">.</span></span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> Ordinary.GEN<span class="main">)</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 12 <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">H</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> A<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">H</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">H</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
      <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword2"><span class="keyword">where</span></span> F_prop<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> AX<span class="main">[</span><span class="operator">OF</span> A<span class="main">,</span> <span class="operator">OF</span> B<span class="main">]</span> <span class="quoted">"∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> indist<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> F_prop<span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
      <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">p</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="skolem">p</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">p</span></span> <span class="keyword1"><span class="command">using</span></span> F_prop<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"&amp;E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 0 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> calculation <span class="quoted">"cqt-basic:11"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">auto</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> RN GEN <span class="quoted">"→I"</span> 1 <span class="quoted">"kirchner-thm:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> denotes_equiv<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="bound">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> xF<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> denotes_all' <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> indist<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> denotes_all'<span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> xF <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"oth-class-taut:3:a"</span> <span class="quoted">"universal-cor"</span> <span class="quoted">"vdash-properties:9"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> yF<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">G</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> yF <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">}</span></span> 
    <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> notxF<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> denotes_ex' <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> indist<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> denotes_ex'<span class="main"><span class="keyword3">;</span></span> <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> notxF <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>4<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">qed</span></span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">y</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"≡E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"oth-class-taut:3:a"</span> <span class="quoted">"universal-cor"</span> <span class="quoted">"vdash-properties:9"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> notyF<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> GEN <span class="quoted">"→I"</span><span class="main">)</span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">[</span></span><span class="keyword2"><span class="keyword"><span class="operator">where</span></span></span> β<span class="main"><span class="main"><span class="main">=</span></span></span><span class="quoted"><span class="skolem">G</span></span><span class="main"><span class="main">]</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="free">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> notyF <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:3"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">qed</span></span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"raa-cor:1"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> indist'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"cqt-basic:11"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span> <span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 1<span class="main">[</span><span class="operator">OF</span> indist<span class="main">]</span> 1<span class="main">[</span><span class="operator">OF</span> indist'<span class="main">]</span> <span class="quoted">"≡I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> RN GEN <span class="quoted">"kirchner-thm:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"→I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> 1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> Comprehension<span class="main">:</span>
  <span class="keyword2"><span class="keyword">assumes</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">∀</span><span class="bound">G</span> <span class="main">□</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>›</span></span>
  <span class="keyword2"><span class="keyword">shows</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span><span class="main">]</span><span class="main">↓</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="operator">-</span>
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> assms<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">thm</span></span> denotes_equiv
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"→I"</span> GEN<span class="main">)</span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">F</span>
      <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">φ</span><span class="main">{</span><span class="skolem">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="skolem">G</span><span class="main">}</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> assms<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="skolem">F</span><span class="main">}</span>›</span></span>  <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
          <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="skolem">G</span><span class="main">}</span>›</span></span>  <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span><span class="keyword1"><span class="command">.</span></span>
          <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>6<span class="main"><span class="main">)</span></span> <span class="quoted">"oth-class-taut:3:a"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="bound">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
        <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> denotes_equiv<span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 1<span class="main">)</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="bound">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
        <span class="keyword1"><span class="command">using</span></span> indist<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> denotes_equiv<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> 2<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span> <span class="main">≡</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
      <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="skolem">F</span><span class="main">}</span>›</span></span>
      <span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"≡I"</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> yF<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 2<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> yF <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> denotes_all'<span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 3<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">y</span> <span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> indist<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> denotes_all'<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"oth-class-taut:3:a"</span> <span class="quoted">"universal-cor"</span> <span class="quoted">"vdash-properties:9"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">φ</span><span class="main">{</span><span class="skolem">F</span><span class="main">}</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">next</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">φ</span><span class="main">{</span><span class="skolem">F</span><span class="main">}</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> xF<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">{</span></span>
          <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">G</span>
          <span class="keyword1"><span class="command">{</span></span>
            <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
            <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 1<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> xF <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
          <span class="keyword1"><span class="command">}</span></span>
          <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">x</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">}</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> 3<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">x</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> denotes_all'<span class="main"><span class="keyword3">;</span></span> <span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span> 3<span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">x</span> <span class="main">∀</span><span class="bound">G</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="bound">x</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span><span class="main">]</span><span class="skolem">y</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> indist<span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"∀E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">,</span> <span class="operator">OF</span> denotes_all'<span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="skolem">y</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β→C"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> <span class="quoted">"oth-class-taut:3:a"</span> <span class="quoted">"universal-cor"</span> <span class="quoted">"vdash-properties:9"</span><span class="main">)</span>
        <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="skolem">y</span><span class="main">[</span><span class="skolem">F</span><span class="main">]</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">qed</span></span>
    <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_modally_strict {</span></span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">{</span></span>
      <span class="keyword3"><span class="command">fix</span></span> <span class="skolem">x</span> <span class="skolem">y</span>
      <span class="keyword1"><span class="command">{</span></span>
        <span class="keyword3"><span class="command">AOT_assume</span></span> indist<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span>›</span></span>
        <span class="keyword1"><span class="command">AOT_hence</span></span> indist'<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"cqt-basic:11"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
        <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span>›</span></span>
          <span class="keyword1"><span class="command">using</span></span> 1<span class="main">[</span><span class="operator">OF</span> 0<span class="main">,</span> <span class="operator">OF</span> indist<span class="main">]</span> 1<span class="main">[</span><span class="operator">OF</span> 0<span class="main">,</span> <span class="operator">OF</span> indist'<span class="main">]</span> <span class="quoted">"≡I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
      <span class="keyword1"><span class="command">}</span></span>
      <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">y</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">}</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">y</span><span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="skolem">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="skolem">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">x</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
  <span class="keyword1"><span class="command">}</span></span> <span class="keyword1"><span class="command">note</span></span> 1 <span class="main">=</span> this
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main"><span class="hidden">❙</span><b>⊢</b><span class="hidden">⇩</span><sub>□</sub></span> <span class="main">∀</span><span class="bound">F</span><span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">F</span><span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span> <span class="main">→</span> <span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> RM<span class="main">)</span>
  <span class="keyword1"><span class="command">moreover</span></span> <span class="keyword1"><span class="command">{</span></span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span><span class="main">∀</span><span class="bound">G</span> <span class="main">□</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> assms <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="skolem">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="skolem">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="skolem">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="skolem"><span class="skolem">G</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∀E"</span><span class="main">(</span>2<span class="main">)</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">G</span> <span class="main">□</span><span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="skolem">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="skolem">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="skolem">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword2"><span class="keyword">for</span></span> <span class="skolem"><span class="skolem">F</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"BF"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound">F</span> <span class="main">□</span><span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> GEN<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">F</span><span class="main">∀</span><span class="bound">G</span> <span class="main">(</span><span class="main">∀</span><span class="bound"><span class="bound">u</span></span><span class="main">(</span><span class="main">[</span><span class="bound">G</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">u</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">G</span><span class="main">}</span><span class="main">)</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"BF"</span> <span class="quoted">"vdash-properties:10"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
  <span class="keyword1"><span class="command">}</span></span>
  <span class="keyword1"><span class="command">ultimately</span></span> <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">∀</span><span class="bound">x</span><span class="main">∀</span><span class="bound">y</span><span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">x</span> <span class="main">≡</span> <span class="main">[</span><span class="bound">F</span><span class="main">]</span><span class="bound">y</span><span class="main">)</span> <span class="main">→</span> <span class="main">(</span><span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">x</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span> <span class="main">≡</span> <span class="main">∀</span><span class="bound">F</span> <span class="main">(</span><span class="bound">y</span><span class="main">[</span><span class="bound">F</span><span class="main">]</span> <span class="main">≡</span> <span class="free">φ</span><span class="main">{</span><span class="bound">F</span><span class="main">}</span><span class="main">)</span><span class="main">)</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"→E"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword3"><span class="command">show</span></span> <span class="var"><span class="quoted"><span class="var">?thesis</span></span></span>
    <span class="keyword1"><span class="command"><span class="improper"><span class="command">apply</span></span></span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"kirchner-thm:2"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">using</span></span> 1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="comment1">(*
AOT_theorem denotes_equiv': ‹[λx ∀G (∀u ([G]u ≡ [H]u) → (x[G] ≡ x[H]))]↓›
proof -
  AOT_modally_strict {
    AOT_have ‹∀F∀G □(∀u([G]u ≡ [F]u) → (∀u ([F]u ≡ [H]u) ≡ ∀u ([G]u ≡ [H]u)))›
    proof (safe intro!: GEN RN "→I")
      AOT_modally_strict {
        fix F G
        AOT_assume 0: ‹∀u([G]u ≡ [F]u)›
        AOT_show ‹∀u ([F]u ≡ [H]u) ≡ ∀u ([G]u ≡ [H]u)›
        proof(safe intro!: "≡I" "→I")
          AOT_assume ‹∀u ([F]u ≡ [H]u)›
          AOT_hence ‹[F]u ≡ [H]u› for u using "Ordinary.∀E" by fast
          moreover AOT_have ‹[G]u ≡ [F]u› for u using 0 "Ordinary.∀E" by fast
          ultimately AOT_have ‹[G]u ≡ [H]u› for u by (metis "deduction-theorem" "≡I" "≡E"(1) "≡E"(2))
          AOT_thus ‹∀u ([G]u ≡ [H]u)› by (rule Ordinary.GEN)
        next
          AOT_assume ‹∀u ([G]u ≡ [H]u)›
          AOT_hence ‹[G]u ≡ [H]u› for u using "Ordinary.∀E" by fast
          moreover AOT_have ‹[G]u ≡ [F]u› for u using 0 "Ordinary.∀E" by fast
          ultimately AOT_have ‹[F]u ≡ [H]u› for u by (metis "deduction-theorem" "≡I" "≡E"(1) "≡E"(2))
          AOT_thus ‹∀u ([F]u ≡ [H]u)› by (rule Ordinary.GEN)
        qed
      }
    qed
    AOT_hence ‹[λx ∀F(x[F] ≡ ∀u ([F]u ≡ [H]u))]↓›
      using Comprehension by simp
  } note 0 = this
  AOT_modally_strict {
    fix x y
    AOT_assume indist: ‹∀F ([F]x ≡ [F]y)›
    AOT_have ‹∀G (∀u ([G]u ≡ [H]u) → (x[G] ≡ x[H])) → ∀G (∀u ([G]u ≡ [H]u) → (y[G] ≡ y[H]))›
    proof(rule "→I")
      AOT_assume ‹∀G (∀u ([G]u ≡ [H]u) → (x[G] ≡ x[H]))›
      AOT_show ‹∀G (∀u ([G]u ≡ [H]u) → (y[G] ≡ y[H]))›
        sorry
    qed
  } note 1 = this
  AOT_modally_strict {
    fix x y
    AOT_assume indist: ‹∀F ([F]x ≡ [F]y)›
    AOT_hence indist': ‹∀F ([F]y ≡ [F]x)›
      by (metis "cqt-basic:11" "≡E"(1))
    AOT_have ‹∀G (∀u ([G]u ≡ [H]u) → (x[G] ≡ x[H])) ≡ ∀G (∀u ([G]u ≡ [H]u) → (y[G] ≡ y[H]))›
      using 1[OF indist] 1[OF indist'] "≡I" by blast
  } note 1 = this
  show ?thesis
    apply (safe intro!: RN GEN "kirchner-thm:2"[THEN "≡E"(2)] "→I")
    using 1 oops *)</span> <span class="comment1">(* by blast *)</span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> ext_zero_eq_nec<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">#</span><span class="free">F</span> <span class="main">=</span> <span class="main">0</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">◇</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">smt</span> <span class="main"><span class="main">(</span></span>verit<span class="main"><span class="main">)</span></span> <span class="quoted">"KBasic2:1"</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"betaC:1:a"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"Act-Sub:3"</span> <span class="quoted">"→E"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">◇</span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"Ordinary.∃I"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.res-var-bound-reas[CBF◇]"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">◇</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">◇</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"0F"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="main">=</span> <span class="main">#</span><span class="free">F</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"eq-num:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">F</span> <span class="main">=</span> <span class="main">0</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> ext_zero_eq_act<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">≡</span> <span class="main">#</span><span class="free">F</span> <span class="main">=</span> <span class="main">0</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"≡I"</span><span class="main"><span class="keyword3">;</span></span> <span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"betaC:1:a"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"Ordinary.∃I"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"0F"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="main">=</span> <span class="main">#</span><span class="free">F</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"eq-num:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">F</span> <span class="main">=</span> <span class="main">0</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
<span class="keyword1"><span class="command">next</span></span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="free">F</span> <span class="main">=</span> <span class="main">0</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">0</span> <span class="main">=</span> <span class="main">#</span><span class="free">F</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> id_sym <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1">Numbers(</span><span class="main">0</span><span class="main">,</span><span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="main">)</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"eq-num:2"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> x<span class="main"><span class="main">,</span></span> <span class="operator">OF</span> <span class="quoted">"zero:2"</span><span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main"><span class="main">]</span></span><span class="main">)</span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"0F"</span><span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>2<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span><span class="main">)</span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
  <span class="keyword3"><span class="command">AOT_show</span></span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"β←C"</span><span class="main"><span class="keyword3">;</span></span> <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span><span class="main">)</span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> 1 <span class="quoted">"cqt:2[const_var]"</span><span class="main"><span class="main">[</span></span><span class="operator">axiom_inst</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[λ</span><span class="bound">z</span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">z</span><span class="main">]</span><span class="bound">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"&amp;I"</span> 0 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="keyword1"><span class="command">AOT_theorem</span></span> ext_zero_eq_world<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">w</span> <span class="main">⊨</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">→</span> <span class="main">#</span><span class="main">[λ</span><span class="bound">x</span> <span class="free">w</span> <span class="main">⊨</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span> <span class="main">=</span> <span class="main">0</span>›</span></span>
<span class="keyword1"><span class="command">proof</span></span> <span class="main">(</span><span class="operator">rule</span> <span class="quoted">"→I"</span><span class="main">)</span>
  <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="free">w</span> <span class="main">⊨</span> <span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
  <span class="keyword1"><span class="command">AOT_hence</span></span> 0<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="free">w</span> <span class="main">⊨</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
    <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"coherent:1"</span><span class="main">[</span><span class="operator">unvarify</span> p<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"log-prop-prop:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">AOT_have</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="main">¬</span><span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">x</span> <span class="free">w</span> <span class="main">⊨</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">u</span>›</span></span>
  <span class="keyword1"><span class="command">proof</span></span><span class="main">(</span><span class="operator">rule</span> <span class="quoted">"raa-cor:2"</span><span class="main">)</span>
    <span class="keyword3"><span class="command">AOT_assume</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">x</span> <span class="free">w</span> <span class="main">⊨</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="bound">u</span>›</span></span>
    <span class="keyword1"><span class="command">then</span></span> <span class="keyword3"><span class="command">AOT_obtain</span></span> <span class="skolem"><span class="skolem">u</span></span> <span class="keyword2"><span class="keyword">where</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="main">[λ</span><span class="bound">x</span> <span class="free">w</span> <span class="main">⊨</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"Ordinary.∃E"</span><span class="main">[</span><span class="operator">rotated</span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">meson</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="keyword1"><span class="hidden">❙</span><b>𝒜</b></span><span class="free">w</span> <span class="main">⊨</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">AOT_subst_rev</span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="main">[λ</span><span class="bound">x</span> <span class="free">w</span> <span class="main">⊨</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span><span class="skolem">u</span><span class="main">»</span>›</span></span> <span class="quoted"><span class="quoted">‹<span class="main">«</span><span class="free">w</span> <span class="main">⊨</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span><span class="main">»</span>›</span></span><span class="main"><span class="keyword3">;</span></span> 
          <span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> <span class="quoted">"beta-C-meta"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> <span class="quoted">"w-rel:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span> 1<span class="main">)</span>
         <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> 1<span class="main">:</span> <span class="quoted"><span class="quoted">‹<span class="free">w</span> <span class="main">⊨</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"rigid-truth-at:4"</span><span class="main">[</span><span class="operator">unvarify</span> p<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"log-prop-prop:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_have</span></span> <span class="quoted"><span class="quoted">‹<span class="main">□</span><span class="keyword1">O!</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">simp</span> <span class="quasi_keyword">add</span><span class="main"><span class="main">:</span></span> Ordinary.restricted_var_condition RN<span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∀</span><span class="bound"><span class="bound">w</span></span> <span class="bound">w</span> <span class="main">⊨</span> <span class="keyword1">O!</span><span class="skolem">u</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"fund:2"</span><span class="main">[</span><span class="operator">unvarify</span> p<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"log-prop-prop:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>1<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">w</span> <span class="main">⊨</span> <span class="keyword1">O!</span><span class="skolem">u</span>›</span></span> <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">metis</span> <span class="quoted">"PossibleWorld.∀E"</span><span class="main">)</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">w</span> <span class="main">⊨</span> <span class="main">(</span><span class="keyword1">O!</span><span class="skolem">u</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="skolem">u</span><span class="main">)</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"conj-dist-w:1"</span><span class="main">[</span><span class="operator">unvarify</span> p q<span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"log-prop-prop:2"</span><span class="main">,</span> <span class="operator">OF</span> <span class="quoted">"log-prop-prop:2"</span><span class="main">,</span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span>
            <span class="quoted">"&amp;I"</span>1 <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="main">∃</span><span class="bound">x</span> <span class="free">w</span> <span class="main">⊨</span> <span class="main">(</span><span class="keyword1">O!</span><span class="bound">x</span> <span class="main">&amp;</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">)</span>›</span></span> <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"∃I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword1"><span class="command">AOT_hence</span></span> <span class="quoted"><span class="quoted">‹<span class="free">w</span> <span class="main">⊨</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> <span class="quoted">"conj-dist-w:6"</span><span class="main">[</span><span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main">(</span></span>2<span class="main"><span class="main">)</span></span><span class="main">]</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">fast</span>
    <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="free">w</span> <span class="main">⊨</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span> <span class="main">&amp;</span> <span class="main">¬</span><span class="free">w</span> <span class="main">⊨</span> <span class="main">∃</span><span class="bound"><span class="bound">u</span></span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">u</span>›</span></span>
      <span class="keyword1"><span class="command">using</span></span> 0 <span class="quoted">"&amp;I"</span> <span class="keyword1"><span class="command">by</span></span> <span class="operator">blast</span>
  <span class="keyword1"><span class="command">qed</span></span>
  <span class="keyword3"><span class="command">AOT_thus</span></span> <span class="quoted"><span class="quoted">‹<span class="main">#</span><span class="main">[λ</span><span class="bound">x</span> <span class="free">w</span> <span class="main">⊨</span> <span class="main">[</span><span class="free">F</span><span class="main">]</span><span class="bound">x</span><span class="main">]</span> <span class="main">=</span> <span class="main">0</span>›</span></span>
    <span class="keyword1"><span class="command">by</span></span> <span class="main">(</span><span class="operator">safe</span> <span class="quasi_keyword">intro</span><span class="main"><span class="main">!</span></span><span class="main"><span class="main">:</span></span> ext_zero_eq_act<span class="main"><span class="main">[</span></span><span class="operator">unvarify</span> F<span class="main"><span class="main">,</span></span> <span class="operator">THEN</span> <span class="quoted">"≡E"</span><span class="main"><span class="main"><span class="main">(</span></span></span>1<span class="main"><span class="main"><span class="main">)</span></span></span><span class="main"><span class="main">]</span></span> <span class="quoted">"w-rel:1"</span><span class="main"><span class="main">[</span></span><span class="operator">THEN</span> <span class="quoted">"→E"</span><span class="main"><span class="main">]</span></span><span class="main">)</span>
       <span class="quoted"><span class="operator">"cqt:2[lambda]"</span></span>
<span class="keyword1"><span class="command">qed</span></span>

<span class="comment1">(*&lt;*)</span>
<span class="keyword2"><span class="keyword">end</span></span>
<span class="comment1">(*&gt;*)</span></pre>
</body>

</html>